<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>How To Control For Confounding Variables | George Pu</title> <meta name="author" content="George Pu"> <meta name="description" content="Seperating signal from noise"> <meta name="keywords" content="academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A7%AE&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://georgerpu.github.io/blog/2022/confounding/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">George </span>Pu</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">How To Control For Confounding Variables</h1> <p class="post-meta">February 12, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/mathematics"> <i class="fas fa-hashtag fa-sm"></i> mathematics</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>The goal of any science is to rigorously determine causal relationships between variables. In many sciences, usually social sciences, this is very difficult due to the high number of variables. Psychology studies the human mind–the most complex physical system in the universe–whose activity is determined by the interactions of 100 billion neurons. Economics and political science and sociology study the interactions of millions of irrational actors called humans.</p> <p><strong>Example</strong> (Tutoring). Suppose we want to investigate the impact of tutoring on high school grades. We collect data by surveying students the amount of after school tutoring they receive and their report cards. Plotting the data shows a clear linear trend; grades are proportional to tutoring hours. However, there are alternative explanations for this pattern. Wealthier households can pay for more tutoring but also reside in wealthier neighborhoods with more school.</p> <p><strong>Example</strong> (Cancer). Suppose we want to investigate the impact of eating 30g of fiber per day on colon cancer. We collect data by surveying adults 60 and older their average daily fiber intake and whether they have colon cancer. Fitting a logistic regression to the data shows that the probability of colon cancer decreases with the consumption of fiber. However, there are altnerative explanations for this pattern. Healthier individuals often have a diet richer in fiber. Their overall better health may be preventing colon cancer.</p> <p>Variables like household wealth are called <strong>confounders</strong>. More formally, a variable $Z$ (household wealth, health) is confounding if it casually influences the <strong>independent variable</strong> $X$ (tutoring, fiber intake) and the <strong>dependent variable</strong> $Y$ (high school grades, cancer rates). Confounders muddle the true relationship between $X$ and $Y$. Hence the quote</p> <blockquote> <p>Correlation does not equal causation.</p> </blockquote> <div class="jekyll-diagrams diagrams mermaid"> <svg id="mermaid-1696308147510" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 744.265625px;" viewbox="0 0 744.265625 107"><style>#mermaid-1696308147510 .label{font-family:trebuchet ms,verdana,arial;color:#333}#mermaid-1696308147510 .node circle,#mermaid-1696308147510 .node ellipse,#mermaid-1696308147510 .node polygon,#mermaid-1696308147510 .node rect{fill:#ececff;stroke:#9370db;stroke-width:1px}#mermaid-1696308147510 .node.clickable{cursor:pointer}#mermaid-1696308147510 .arrowheadPath{fill:#333}#mermaid-1696308147510 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1696308147510 .edgeLabel{background-color:#e8e8e8}#mermaid-1696308147510 .cluster rect{fill:#ffffde!important;stroke:#aa3!important;stroke-width:1px!important}#mermaid-1696308147510 .cluster text{fill:#333}#mermaid-1696308147510 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:trebuchet ms,verdana,arial;font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1696308147510 .actor{stroke:#ccf;fill:#ececff}#mermaid-1696308147510 text.actor{fill:#000;stroke:none}#mermaid-1696308147510 .actor-line{stroke:grey}#mermaid-1696308147510 .messageLine0{marker-end:"url(#arrowhead)"}#mermaid-1696308147510 .messageLine0,#mermaid-1696308147510 .messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#mermaid-1696308147510 #arrowhead{fill:#333}#mermaid-1696308147510 #crosshead path{fill:#333!important;stroke:#333!important}#mermaid-1696308147510 .messageText{fill:#333;stroke:none}#mermaid-1696308147510 .labelBox{stroke:#ccf;fill:#ececff}#mermaid-1696308147510 .labelText,#mermaid-1696308147510 .loopText{fill:#000;stroke:none}#mermaid-1696308147510 .loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#ccf}#mermaid-1696308147510 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1696308147510 .noteText{fill:#000;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:14px}#mermaid-1696308147510 .section{stroke:none;opacity:.2}#mermaid-1696308147510 .section0{fill:rgba(102,102,255,.49)}#mermaid-1696308147510 .section2{fill:#fff400}#mermaid-1696308147510 .section1,#mermaid-1696308147510 .section3{fill:#fff;opacity:.2}#mermaid-1696308147510 .sectionTitle0,#mermaid-1696308147510 .sectionTitle1,#mermaid-1696308147510 .sectionTitle2,#mermaid-1696308147510 .sectionTitle3{fill:#333}#mermaid-1696308147510 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px}#mermaid-1696308147510 .grid .tick{stroke:#d3d3d3;opacity:.3;shape-rendering:crispEdges}#mermaid-1696308147510 .grid path{stroke-width:0}#mermaid-1696308147510 .today{fill:none;stroke:red;stroke-width:2px}#mermaid-1696308147510 .task{stroke-width:2}#mermaid-1696308147510 .taskText{text-anchor:middle;font-size:11px}#mermaid-1696308147510 .taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}#mermaid-1696308147510 .taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}#mermaid-1696308147510 .taskText0,#mermaid-1696308147510 .taskText1,#mermaid-1696308147510 .taskText2,#mermaid-1696308147510 .taskText3{fill:#fff}#mermaid-1696308147510 .task0,#mermaid-1696308147510 .task1,#mermaid-1696308147510 .task2,#mermaid-1696308147510 .task3{fill:#8a90dd;stroke:#534fbc}#mermaid-1696308147510 .taskTextOutside0,#mermaid-1696308147510 .taskTextOutside1,#mermaid-1696308147510 .taskTextOutside2,#mermaid-1696308147510 .taskTextOutside3{fill:#000}#mermaid-1696308147510 .active0,#mermaid-1696308147510 .active1,#mermaid-1696308147510 .active2,#mermaid-1696308147510 .active3{fill:#bfc7ff;stroke:#534fbc}#mermaid-1696308147510 .activeText0,#mermaid-1696308147510 .activeText1,#mermaid-1696308147510 .activeText2,#mermaid-1696308147510 .activeText3{fill:#000!important}#mermaid-1696308147510 .done0,#mermaid-1696308147510 .done1,#mermaid-1696308147510 .done2,#mermaid-1696308147510 .done3{stroke:grey;fill:#d3d3d3;stroke-width:2}#mermaid-1696308147510 .doneText0,#mermaid-1696308147510 .doneText1,#mermaid-1696308147510 .doneText2,#mermaid-1696308147510 .doneText3{fill:#000!important}#mermaid-1696308147510 .crit0,#mermaid-1696308147510 .crit1,#mermaid-1696308147510 .crit2,#mermaid-1696308147510 .crit3{stroke:#f88;fill:red;stroke-width:2}#mermaid-1696308147510 .activeCrit0,#mermaid-1696308147510 .activeCrit1,#mermaid-1696308147510 .activeCrit2,#mermaid-1696308147510 .activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}#mermaid-1696308147510 .doneCrit0,#mermaid-1696308147510 .doneCrit1,#mermaid-1696308147510 .doneCrit2,#mermaid-1696308147510 .doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1696308147510 .activeCritText0,#mermaid-1696308147510 .activeCritText1,#mermaid-1696308147510 .activeCritText2,#mermaid-1696308147510 .activeCritText3,#mermaid-1696308147510 .doneCritText0,#mermaid-1696308147510 .doneCritText1,#mermaid-1696308147510 .doneCritText2,#mermaid-1696308147510 .doneCritText3{fill:#000!important}#mermaid-1696308147510 .titleText{text-anchor:middle;font-size:18px;fill:#000}
#mermaid-1696308147510 g.classGroup text{fill:#9370db;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:10px}#mermaid-1696308147510 g.classGroup rect{fill:#ececff;stroke:#9370db}#mermaid-1696308147510 g.classGroup line{stroke:#9370db;stroke-width:1}#mermaid-1696308147510 .classLabel .box{stroke:none;stroke-width:0;fill:#ececff;opacity:.5}#mermaid-1696308147510 .classLabel .label{fill:#9370db;font-size:10px}#mermaid-1696308147510 .relation{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1696308147510 #compositionEnd,#mermaid-1696308147510 #compositionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1696308147510 #aggregationEnd,#mermaid-1696308147510 #aggregationStart{fill:#ececff;stroke:#9370db;stroke-width:1}#mermaid-1696308147510 #dependencyEnd,#mermaid-1696308147510 #dependencyStart,#mermaid-1696308147510 #extensionEnd,#mermaid-1696308147510 #extensionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1696308147510 .branch-label,#mermaid-1696308147510 .commit-id,#mermaid-1696308147510 .commit-msg{fill:#d3d3d3;color:#d3d3d3}</style> <style>#mermaid-1696308147510{color:#000;font:normal normal 400 normal 16px / normal "Times New Roman"}</style> <g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M123.625,77.20595761695321L169.5078125,92L215.390625,92" marker-end="url(#arrowhead18)" style="fill:none"></path><defs><marker id="arrowhead18" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M123.625,43.794042383046786L169.5078125,29L300.1171875,29L481.828125,29L578.8125,45.812459693022056" marker-end="url(#arrowhead19)" style="fill:none"></path><defs><marker id="arrowhead19" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M384.84375,92L481.828125,92L578.8125,75.18754030697795" marker-end="url(#arrowhead20)" style="stroke: #333; fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead20" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" style="opacity: 1;" transform="translate(169.5078125,92)"><g transform="translate(-20.8828125,-9)" class="label"><foreignobject width="41.765625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">causes</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(300.1171875,29)"><g transform="translate(-20.8828125,-9)" class="label"><foreignobject width="41.765625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">causes</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(481.828125,92)"><g transform="translate(-71.984375,-9)" class="label"><foreignobject width="143.96875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">relationship of interest</span></div></foreignobject></g></g></g><g class="nodes"><g class="node" id="Z" transform="translate(71.8125,60.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-51.8125" y="-19" width="103.625" height="38"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-41.8125,-9)"><foreignobject width="83.625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Confounder</div></foreignobject></g></g></g><g class="node" id="X" transform="translate(300.1171875,92)" style="opacity: 1;"><rect rx="0" ry="0" x="-84.7265625" y="-19" width="169.453125" height="38"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-74.7265625,-9)"><foreignobject width="149.453125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Independent variable</div></foreignobject></g></g></g><g class="node" id="Y" transform="translate(663.5390625,60.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-84.7265625" y="-19" width="169.453125" height="38"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-74.7265625,-9)"><foreignobject width="149.453125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Independent variable</div></foreignobject></g></g></g></g></g></g></svg> </div> <h2 id="experiment-design">Experiment Design</h2> <p>The easiest way to eliminate confounders is through careful experiment design. In a <strong>controlled experiment</strong>, researchers set the value of the independent variable $X$ for subjects.</p> <h3 id="randomization">Randomization</h3> <p><strong>Randomization</strong> assigns subjects to <strong>control groups</strong>, doing nothing, and <strong>treatment groups</strong> randomly. Assignment sets the independent variable $X$ without adjusting any confounder $Z$. For a sufficiently large sample of subjects, any overall change in $Y$ can be attributed to $X$ alone as the control and treatment groups will have identical distributions of $Z$ values.</p> <p><strong>Example</strong> (Tutoring). We could gather 1000 freshman high school students. 50 students would be randomly assigned weekly tutoring sessions. The remaining 50 students form the control group.</p> <p><strong>Example</strong> (Cancer). We could gather 1000 adults. 500 adults would be randomly assigned a diet high in fiber. The remaining 500 adults form the control group.</p> <h3 id="matching">Matching</h3> <p>If the confounder $Z$ is known, subjects can be <strong>matched</strong> with another subject of equal $Z$ value. Thus, any difference between the pair is attributable to the independent variable $X$ alone. This approach is inferior to randomization since it cannot address unknown confounders but doesn’t require as large of a sample. A special case of matching is <strong>restriction</strong> which uses only subjects with a fixed $Z$ value.</p> <p><strong>Example</strong> (Tutoring). We could gather 200 high school students whose various households have a range of incomes. The students are grouped into pairs with equal household income. One student in each pair is assigned to treatment tutoring sessions while the other is put into the control group.</p> <p><strong>Example</strong> (Cancer). We could gather 200 adults who get varying levels of weekly exercise. The adults are grouped into pairs with similar weekly exercise levels. One adult in each pair is assigned to the treatment diet while the other is put into the control group.</p> <h2 id="data-analysis">Data Analysis</h2> <p>Often, controlled experiments are unethical or impractical. In an <strong>observation study</strong>, the researchers record independent, dependent, and confounding variable values without affecting them.</p> <h3 id="stratification">Stratification</h3> <p><strong>Stratification</strong> is like a post-experiment matching. Subjects with similar confounding variable values $Z$ are grouped into strata. Any differences of the dependent variable $Y$ within strata are can attributed due to the independent variable $X$ alone. Similar to matching, stratification cannot account for unknown confounding variables. Moreover, as the number of confounding variables increases, the number of strata needed increases exponentially.</p> <p><strong>Example</strong> (Tutoring). After surveying data from 1000 students, we break them into 10 household income buckets. Students are placed in each bucket based on their household income.</p> <p><strong>Example</strong> (Cancer). After surveying data from 1000 adults, we break them into 10 time buckets. Adults are placed in each bucket based on their weekly exercise levels. If we want to account for sleep as well, we might need 100 buckets for exercise and sleep levels.</p> <h3 id="multi-variate-regression">Multi-variate Regression</h3> <p>Instead we can fit a multivariate linear regression predicting grades $Y$ given hours of tutoring $X$ and household income $Z$. Assuming we have diverse examples where $X, Y$ are both low and high, the estimated parameters should be accurate.</p> \[Y = \alpha + \beta X + \gamma Z\] <p>Here $\beta$ measures the effect of a change in $X$ assuming no change in $Z$.</p> <p>Compared to stratification which exponentially increases the number of strata as confounders are added, it is easier to add confounders to a regression model.</p> <p><strong>Example</strong> (Tutoring). We fit a regression model to our survey data. If hours of tutoring has no effect on grades, then $\beta \approx 0$ as all the variation in $Y$ can be explained by $Z$ alone. If tutoring positively influences grades beyond the confounding effect of household income, then $\beta$ will be positive.</p> <p><strong>Example</strong> (Cancer). We fit a logistic regression model to our survey data. If fiber intake has no effect on colon cancer, then $\beta = 0$. If fiber intake negatively influences the probability of colon cancer beyond the confounding effect of overall health, then $\beta$ will be negative.</p> <h2 id="propensity-score-matching">Propensity Score Matching</h2> <p>A <strong>propensity score</strong> is the probability of a subject being in the treatment group given the background characteristics $\Pr(X = 1 \mid Z = z)$. We can fit a model that estimates propensity scores based any confounding variables. Each subject who received the treatment is matched to a subject who received the comparator with an equivalent propensity score.</p> <p>Because propensity scores combine multiple confounders into a single summary score, these methods are preferred when the treatment of interest is common and outcome of interest are rare, a setting where multivariable outcome models are susceptible to overfitting.</p> <p><strong>Example</strong> (Tutoring). We fit a linear regression model that estimates tutoring hours based on household income and other variables like parent education to our survey data. We match students who have high tutoring hours with students who have low tutoring hours but equal propensity score.</p> <p><strong>Example</strong> (Cancer). We fit a linear regression model that estimates fiber intake based on age, weekly exercise hours, average sleep time, etc. to our survey data. We match adults who have high fiber consumption with adults who have low fiber intake.</p> <h2 id="overadjusting">Overadjusting</h2> <p>It is important not to overadjust for confounding variables. In particular, when the “confounding variable” $Z$ is an effect of the independent variable $X$, we should not adjust for $Z$. This is because $Z$ might be a part of the mechanism through which $X$ affects the dependent variable $Y$.</p> <div class="jekyll-diagrams diagrams mermaid"> <svg id="mermaid-1696308148067" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 682.40625px;" viewbox="0 0 682.40625 107"><style>#mermaid-1696308148067 .label{font-family:trebuchet ms,verdana,arial;color:#333}#mermaid-1696308148067 .node circle,#mermaid-1696308148067 .node ellipse,#mermaid-1696308148067 .node polygon,#mermaid-1696308148067 .node rect{fill:#ececff;stroke:#9370db;stroke-width:1px}#mermaid-1696308148067 .node.clickable{cursor:pointer}#mermaid-1696308148067 .arrowheadPath{fill:#333}#mermaid-1696308148067 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1696308148067 .edgeLabel{background-color:#e8e8e8}#mermaid-1696308148067 .cluster rect{fill:#ffffde!important;stroke:#aa3!important;stroke-width:1px!important}#mermaid-1696308148067 .cluster text{fill:#333}#mermaid-1696308148067 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:trebuchet ms,verdana,arial;font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}#mermaid-1696308148067 .actor{stroke:#ccf;fill:#ececff}#mermaid-1696308148067 text.actor{fill:#000;stroke:none}#mermaid-1696308148067 .actor-line{stroke:grey}#mermaid-1696308148067 .messageLine0{marker-end:"url(#arrowhead)"}#mermaid-1696308148067 .messageLine0,#mermaid-1696308148067 .messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#mermaid-1696308148067 #arrowhead{fill:#333}#mermaid-1696308148067 #crosshead path{fill:#333!important;stroke:#333!important}#mermaid-1696308148067 .messageText{fill:#333;stroke:none}#mermaid-1696308148067 .labelBox{stroke:#ccf;fill:#ececff}#mermaid-1696308148067 .labelText,#mermaid-1696308148067 .loopText{fill:#000;stroke:none}#mermaid-1696308148067 .loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#ccf}#mermaid-1696308148067 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1696308148067 .noteText{fill:#000;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:14px}#mermaid-1696308148067 .section{stroke:none;opacity:.2}#mermaid-1696308148067 .section0{fill:rgba(102,102,255,.49)}#mermaid-1696308148067 .section2{fill:#fff400}#mermaid-1696308148067 .section1,#mermaid-1696308148067 .section3{fill:#fff;opacity:.2}#mermaid-1696308148067 .sectionTitle0,#mermaid-1696308148067 .sectionTitle1,#mermaid-1696308148067 .sectionTitle2,#mermaid-1696308148067 .sectionTitle3{fill:#333}#mermaid-1696308148067 .sectionTitle{text-anchor:start;font-size:11px;text-height:14px}#mermaid-1696308148067 .grid .tick{stroke:#d3d3d3;opacity:.3;shape-rendering:crispEdges}#mermaid-1696308148067 .grid path{stroke-width:0}#mermaid-1696308148067 .today{fill:none;stroke:red;stroke-width:2px}#mermaid-1696308148067 .task{stroke-width:2}#mermaid-1696308148067 .taskText{text-anchor:middle;font-size:11px}#mermaid-1696308148067 .taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}#mermaid-1696308148067 .taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}#mermaid-1696308148067 .taskText0,#mermaid-1696308148067 .taskText1,#mermaid-1696308148067 .taskText2,#mermaid-1696308148067 .taskText3{fill:#fff}#mermaid-1696308148067 .task0,#mermaid-1696308148067 .task1,#mermaid-1696308148067 .task2,#mermaid-1696308148067 .task3{fill:#8a90dd;stroke:#534fbc}#mermaid-1696308148067 .taskTextOutside0,#mermaid-1696308148067 .taskTextOutside1,#mermaid-1696308148067 .taskTextOutside2,#mermaid-1696308148067 .taskTextOutside3{fill:#000}#mermaid-1696308148067 .active0,#mermaid-1696308148067 .active1,#mermaid-1696308148067 .active2,#mermaid-1696308148067 .active3{fill:#bfc7ff;stroke:#534fbc}#mermaid-1696308148067 .activeText0,#mermaid-1696308148067 .activeText1,#mermaid-1696308148067 .activeText2,#mermaid-1696308148067 .activeText3{fill:#000!important}#mermaid-1696308148067 .done0,#mermaid-1696308148067 .done1,#mermaid-1696308148067 .done2,#mermaid-1696308148067 .done3{stroke:grey;fill:#d3d3d3;stroke-width:2}#mermaid-1696308148067 .doneText0,#mermaid-1696308148067 .doneText1,#mermaid-1696308148067 .doneText2,#mermaid-1696308148067 .doneText3{fill:#000!important}#mermaid-1696308148067 .crit0,#mermaid-1696308148067 .crit1,#mermaid-1696308148067 .crit2,#mermaid-1696308148067 .crit3{stroke:#f88;fill:red;stroke-width:2}#mermaid-1696308148067 .activeCrit0,#mermaid-1696308148067 .activeCrit1,#mermaid-1696308148067 .activeCrit2,#mermaid-1696308148067 .activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}#mermaid-1696308148067 .doneCrit0,#mermaid-1696308148067 .doneCrit1,#mermaid-1696308148067 .doneCrit2,#mermaid-1696308148067 .doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}#mermaid-1696308148067 .activeCritText0,#mermaid-1696308148067 .activeCritText1,#mermaid-1696308148067 .activeCritText2,#mermaid-1696308148067 .activeCritText3,#mermaid-1696308148067 .doneCritText0,#mermaid-1696308148067 .doneCritText1,#mermaid-1696308148067 .doneCritText2,#mermaid-1696308148067 .doneCritText3{fill:#000!important}#mermaid-1696308148067 .titleText{text-anchor:middle;font-size:18px;fill:#000}
#mermaid-1696308148067 g.classGroup text{fill:#9370db;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:10px}#mermaid-1696308148067 g.classGroup rect{fill:#ececff;stroke:#9370db}#mermaid-1696308148067 g.classGroup line{stroke:#9370db;stroke-width:1}#mermaid-1696308148067 .classLabel .box{stroke:none;stroke-width:0;fill:#ececff;opacity:.5}#mermaid-1696308148067 .classLabel .label{fill:#9370db;font-size:10px}#mermaid-1696308148067 .relation{stroke:#9370db;stroke-width:1;fill:none}#mermaid-1696308148067 #compositionEnd,#mermaid-1696308148067 #compositionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1696308148067 #aggregationEnd,#mermaid-1696308148067 #aggregationStart{fill:#ececff;stroke:#9370db;stroke-width:1}#mermaid-1696308148067 #dependencyEnd,#mermaid-1696308148067 #dependencyStart,#mermaid-1696308148067 #extensionEnd,#mermaid-1696308148067 #extensionStart{fill:#9370db;stroke:#9370db;stroke-width:1}#mermaid-1696308148067 .branch-label,#mermaid-1696308148067 .commit-id,#mermaid-1696308148067 .commit-msg{fill:#d3d3d3;color:#d3d3d3}</style> <style>#mermaid-1696308148067{color:#000;font:normal normal 400 normal 16px / normal "Times New Roman"}</style> <g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M183.50682043650795,51.5L235.3359375,39L301.390625,39" marker-end="url(#arrowhead18)" style="fill:none"></path><defs><marker id="arrowhead18" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M405.015625,39L471.0703125,39L522.899429563492,51.5" marker-end="url(#arrowhead19)" style="fill:none"></path><defs><marker id="arrowhead19" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M183.50682043650795,89.5L235.3359375,102L353.203125,102L471.0703125,102L522.899429563492,89.5" marker-end="url(#arrowhead20)" style="stroke: #333; fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead20" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" style="opacity: 1;" transform="translate(235.3359375,39)"><g transform="translate(-20.8828125,-9)" class="label"><foreignobject width="41.765625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">causes</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(471.0703125,39)"><g transform="translate(-20.8828125,-9)" class="label"><foreignobject width="41.765625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">causes</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(353.203125,102)"><g transform="translate(-71.984375,-9)" class="label"><foreignobject width="143.96875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">relationship of interest</span></div></foreignobject></g></g></g><g class="nodes"><g class="node" id="X" transform="translate(104.7265625,70.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-84.7265625" y="-19" width="169.453125" height="38"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-74.7265625,-9)"><foreignobject width="149.453125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Independent variable</div></foreignobject></g></g></g><g class="node" id="Z" transform="translate(353.203125,39)" style="opacity: 1;"><rect rx="0" ry="0" x="-51.8125" y="-19" width="103.625" height="38"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-41.8125,-9)"><foreignobject width="83.625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Confounder</div></foreignobject></g></g></g><g class="node" id="Y" transform="translate(601.6796875,70.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-84.7265625" y="-19" width="169.453125" height="38"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-74.7265625,-9)"><foreignobject width="149.453125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Independent variable</div></foreignobject></g></g></g></g></g></g></svg> </div> <p><strong>Example</strong> (Tutoring). If we were studying the relationship between household income and grades instead of tutoring hours and grades, extra tutoring hours might be one reason students from high income households do better. Confounders $Z$ should be correlated with $X$ but not caused by $Z$.</p> <p><strong>Example</strong> (Cancer). If we were studying the relationship between age and colon cancer instead of fiber intake and colon cancer, decreased fiber intake might be one reason older adults have higher rates of colon cancer.</p> <h2 id="resources">Resources</h2> <ol> <li>https://www.sciencedirect.com/science/article/pii/S0085253815529748</li> <li>https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8786092/</li> <li>https://oem.bmj.com/content/62/7/500</li> </ol> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2020/crdt/">Conflict Free Replicated Data Types</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/books/">2022 in Books</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/economic-possiblities-for-ourselves/">Economic Possibilities for Ourselves</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2021/floc/">Federated Learning of Cohorts</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2021/bittorrent-client/">Implementing a BitTorrent-like P2P File Sharing Protocol</a> </li> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 George Pu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0-beta.3/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>
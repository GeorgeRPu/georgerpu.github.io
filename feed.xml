<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://georgerpu.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://georgerpu.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-03-19T08:14:34+00:00</updated><id>https://georgerpu.github.io/feed.xml</id><title type="html">blank</title><subtitle>Personal website and blog </subtitle><entry><title type="html">The Inflection Point of the Exponential Function</title><link href="https://georgerpu.github.io/blog/2024/exp-inflection-point/" rel="alternate" type="text/html" title="The Inflection Point of the Exponential Function"/><published>2024-01-06T00:00:00+00:00</published><updated>2024-01-06T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2024/exp-inflection-point</id><content type="html" xml:base="https://georgerpu.github.io/blog/2024/exp-inflection-point/"><![CDATA[<p>An exponential is a function of the form $f(x) = a^x$ where $a &gt; 0$. <em>The</em> exponential $\exp(x)$ uses the base $a = e$. Let’s plot the exponential function.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_1_0-480.webp 480w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_1_0-800.webp 800w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_1_0-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_1_0.png" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h2 id="the-inflection-point">The “Inflection Point”</h2> <p>To the eye, it appears that the exponential function grows slowly at first, then suddenly starts to grow faster after $x = 3.5$. Often, this point is called the <strong>elbow</strong>, <strong>knee</strong>, or, most egregiously, the <strong>inflection point</strong>.</p> <p>This is an illusion. If we zoom out, the “inflection point” shifts.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_3_0-480.webp 480w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_3_0-800.webp 800w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_3_0-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_3_0.png" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Now it looks like the “inflection point” is at $x = 8$. If we zoomed in instead of zooming out, the “inflection point” would shift to the left.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_5_0-480.webp 480w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_5_0-800.webp 800w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_5_0-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_5_0.png" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Now it looks like the “inflection point” is at $x = 1$. The “inflection point” is not a real feature of exponentials but a artifact of the way we plot them. Changing our perspective changes the location of the “inflection”.</p> <h2 id="what-is-an-inflection-point">What is an Inflection Point?</h2> <p>Formally, an <strong>inflection point</strong> is when the derivative changes sign. The problem with saying that an exponential has an inflection point is that the derivative of an exponential is always positive.</p> \[\begin{align*} f(x) &amp;= a^x &gt; 0 \\ f'(x) &amp;= a^x \ln(a) &gt; 0 \end{align*}\] <p>Intuitively, the exponential function constantly grows at a geometric rate. Each increment of $x$ by 1 increases the value of the function by a factor of $a$. If we used a log-scale for the $y$-axis, the exponential function would look like a straight line.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">yscale</span><span class="p">(</span><span class="sh">'</span><span class="s">log</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_7_0-480.webp 480w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_7_0-800.webp 800w,/assets/img/2024-01-06/2024-01-06-exp-inflection-point_7_0-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2024-01-06/2024-01-06-exp-inflection-point_7_0.png" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>The exponential has an inflection point no more than a straight line has an inflection point. As long as the original function is always positive, the sign of the derivative in log-scale is the same as normal scale.</p> \[\begin{align*} g(x) &amp;= \log f(x) \\ g'(x) &amp;= f'(x) / f(x) \end{align*}\] <h2 id="why-do-we-think-theres-an-inflection-point">Why do we think there’s an Inflection Point?</h2> <p>In high school, I would often get questions like</p> <blockquote> <p>A species of bacteria lives in a petri dish. The population doubles every day. In 30 days, the bacteria coveries the entire dish. On which day did the bacter cover half the dish?</p> </blockquote> <p>wrong. I would put answers like 15 or 20. The correct answer is 29. It took me half a year to catch on. Humans are often bad with exponential growth because we focus on the absolute values. Going from 1/2 to 1 is a bigger change than going from 1/4 to 1/2, but the latter takes the same amount of time as the former. Thus, it seems like all of a sudden, on the last day the bacteria explode in population. We might think that the bacteria have done something different to grow so quickly, that there was an inflection point. In reality, the bacteria have merely continued growing at the same, geometric, rate they always have.</p> <p>Misunderstanding exponential growth can be a costly mistake. Exponential growth governs much of the world. The spread of diseases, population growth, and the growth of money in a savings account are all exponential.</p>]]></content><author><name></name></author><category term="mathematics"/><summary type="html"><![CDATA[Please stop referring to the "inflection point" of the exponential function.]]></summary></entry><entry><title type="html">2023 in Film</title><link href="https://georgerpu.github.io/blog/2023/film/" rel="alternate" type="text/html" title="2023 in Film"/><published>2023-12-31T00:00:00+00:00</published><updated>2023-12-31T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2023/film</id><content type="html" xml:base="https://georgerpu.github.io/blog/2023/film/"><![CDATA[<p>I didn’t read as much this year as in 2022. What I did do was watch plenty of film and some TV. Instead of reviewing the 2 books I read in 2023, I am reviewing all the new movies I watched in 2023.</p> <h3 id="antman-and-the-wasp-quantumania">Antman and the Wasp: Quantumania</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BODZhNzlmOGItMWUyYS00Y2Q5LWFlNzMtM2I2NDFkM2ZkYmE1XkEyXkFqcGdeQXVyMTU5OTA4NTIz._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BODZhNzlmOGItMWUyYS00Y2Q5LWFlNzMtM2I2NDFkM2ZkYmE1XkEyXkFqcGdeQXVyMTU5OTA4NTIz._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BODZhNzlmOGItMWUyYS00Y2Q5LWFlNzMtM2I2NDFkM2ZkYmE1XkEyXkFqcGdeQXVyMTU5OTA4NTIz._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BODZhNzlmOGItMWUyYS00Y2Q5LWFlNzMtM2I2NDFkM2ZkYmE1XkEyXkFqcGdeQXVyMTU5OTA4NTIz._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>What a disaster of a film. <em>Antman and the Wasp: Quantumania</em> might have the worst plot of any MCU film. I don’t think I have ever watched any movie with more deus ex machina’s in the plot.</p> <ol> <li>Near the beginning of the movie, Cassie sends a signal to the quantum realm. But wait, Kang is down there and pulls them in.</li> <li>While Janet was stuck in the quantum realm, she helped Kang repair his time chair, not knowing his past as an inter-dimensional conquerer. She refuses to tell her husband or anyone else for no reason.</li> <li>Some ants that Kang pulled in with Antman and the Wasp develop into a technologically advanced society. They rescue the resistance when Kang goes on a rampage.</li> <li>Despite Kang being the big bad of the Multiverse Sage, canonically having destroyed entire timelines and killed enough Avengers to lose track, he is defeated by a mid level Avenger.</li> </ol> <p>The movie’s only salvation is Johnathan Majors’ great performance as Kang. Unlike Thanos who only had 1 gear—calculated ruthlessness, Kang displays a full range of emotion. Kang seems to be a genuine victim when Janet finds him in the quantum realm. When Janet discovers his true nature, you can feel the desperation in his voice as he tries to bargain with her. When that fails, he reveals himself as a vengeful, rage-filled warlord. Kang steals every scene he is in. He is the only thing keeping <em>Antman and the Wasp: Quantumania</em> from being a 1/10.</p> <p>2/10</p> <h3 id="the-post">The Post</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BMjQyMjEwOTIwNV5BMl5BanBnXkFtZTgwOTkzNTMxNDM@._V1_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BMjQyMjEwOTIwNV5BMl5BanBnXkFtZTgwOTkzNTMxNDM@._V1_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BMjQyMjEwOTIwNV5BMl5BanBnXkFtZTgwOTkzNTMxNDM@._V1_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BMjQyMjEwOTIwNV5BMl5BanBnXkFtZTgwOTkzNTMxNDM@._V1_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><em>The Post</em> is a historical drama about the <a href="https://en.wikipedia.org/wiki/Pentagon_Papers">Pentagon Papers</a>. While owner Katherine Graham is taking the company public to raise funds, reporters at the Post stumble onto a big story. The government has been lying to the American public about America’s chances of winning the Vietnam War. <em>The Post</em> covers the struggle between journalists at the Washington Post to track down a study commissioned by Robert McNamara while the Nixon administration works to prevent its publication.</p> <p>Unlike <em>Spotlight</em>, another contemporary movie about journalism, <em>The Post</em> doesn’t display the intricacies of investigative reporting which I think was a missed opportunity. It’s more interested in whether the newspaper will survive. The protagonist of the film is Katherine Graham, embattled owner of the Washington Post, portrayed by Meryl Streep<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>. Like every other movie part I have seen Meryl Streep play, she is amazing. Katherine Graham inherits the newspaper after the suicide of her husband who had received it from her father. She is surrounded by men who doubt her judgement, who think she is mismanaging the newspaper. Meryl Streep excels in her role of unlikely owner who learns to assert herself.</p> <p>Opposite Meryl Street is Tom Hanks as the Washington Post’s editor Ben Bradlee. He plays a stock character, a gruff journalist who is constantly telling anyone around him of the importance of the First Amendment’s protection for freedom of the press. He works late into the night. He barks at the reporters on staff with cliches like “Why are you still in my office?” and “Run it”. <em>The Post</em>’s adherence to <a href="https://www.youtube.com/watch?v=A3SyKtmr7bs">genre tropes</a> holds the movie back. The rest of the cast is star studded but don’t deliver any outstanding performances.</p> <p>7/10</p> <h3 id="little-women-2019">Little Women (2019)</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BY2QzYTQyYzItMzAwYi00YjZlLThjNTUtNzMyMDdkYzJiNWM4XkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BY2QzYTQyYzItMzAwYi00YjZlLThjNTUtNzMyMDdkYzJiNWM4XkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BY2QzYTQyYzItMzAwYi00YjZlLThjNTUtNzMyMDdkYzJiNWM4XkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BY2QzYTQyYzItMzAwYi00YjZlLThjNTUtNzMyMDdkYzJiNWM4XkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><em>Little Women (2019)</em> is yet another adaptation of the Louisa May Alcott novel. Unlike the more one-to-one adaptations of the past, indie director darling Greta Gerwig makes significant changes. While the novel is divided into 2 parts—childhood and adulthood—that were even published apart, the movie interweaves these through flashbacks. Each flashback cuts shallower in time, converging to the present of 1868.</p> <p>The bigger change is to the ending. While the novel ends with Jo March marrying Friedrich Bhaer, the movie ends with Jo March and magazine editor Mr. Dashwood arguing over the ending of Jo’s novel, also called <em>Little Women (Jo)</em>. Interlaced is a scene of Jo chasing after Friedrich, asking him to stay back east. It is not clear if the scene of Jo finding Friedrich in the rain is real or proposed by Mr. Dashwood as the ending to <em>Little Women (Jo)</em>. The ambiguity is likely the point. <a href="https://www.vulture.com/2020/01/the-ending-of-greta-gerwigs-little-women-does-jo-marry.html">In the script, this scene is labeled “FICTION(?)”</a>.</p> <p>I think Greta Gerwig intends the ending to be more FICTION than not. Alcott, herself an unmarried woman, wanted Jo to remain unmarried. Only after receiving letters from readers demanding that Jo marry did she cave. Gerwig restores <em>Little Women</em>’s original ending. <em>Little Women (2019)</em> concludes with Jo’s triumph as an independent writer, having kept the copyright to her work, watching as her words are printed. Then again, Jo’s loneliness is heavily emphasized in the latter part of <em>Little Women (2019)</em>. Jo wonders whether she rejected Laurie too hastily and writes a letter to Laurie before he returns from Europe. It seems strange that whole thread would be discarded.</p> <p>The movie does a great job of tending to its star-studded cast. None of the sisters are underdeveloped. Meg’s tension between her expensive taste and her poor husband, Amy’s jealousy of Jo, and Beth’s musical connection with Mr. Lawrence all get sufficient screen time. Amy’s lesser qualities in childhood are explained well while, as an adult, she is particularly self-aware. Credit to Gerwig for making Laurie’s marriage to Amy feel genuine after Jo rejects Laurie’s proposal. It would have been easy to make Laurie the villain, settling for his unrequited love’s sibling. Marmee, Aunt March, and John Brooke shine in their limited time.</p> <p>If anything, Jo is the underdeveloped character. Saoirse Ronan is a great actress who portrays the confidence that comes with talent well. But she lacks the fire and passion and tempestuousness so often ascribed to Jo. For a character whose salary negotiation bookends the movie, <em>Little Women (2019)</em>’s Jo is a little underwhelming.</p> <p>None of that takes away from the pure sweetness of the March sisters playing together as children nor the harsh injustice of their struggles with 19th century life as adults. It hurts to watch these little women fight each other and it saddens to watch them come together in the face of family tragedy. It lifts the soul to watch these little women triumph. You can’t ask much more than that from cinema.</p> <p>9/10</p> <h3 id="guardians-of-the-galaxy-vol-3">Guardians of the Galaxy Vol. 3</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BMDgxOTdjMzYtZGQxMS00ZTAzLWI4Y2UtMTQzN2VlYjYyZWRiXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BMDgxOTdjMzYtZGQxMS00ZTAzLWI4Y2UtMTQzN2VlYjYyZWRiXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BMDgxOTdjMzYtZGQxMS00ZTAzLWI4Y2UtMTQzN2VlYjYyZWRiXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BMDgxOTdjMzYtZGQxMS00ZTAzLWI4Y2UtMTQzN2VlYjYyZWRiXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><em>Guardians of the Galaxy Vol. 3</em> is the last movie in the Guardians trilogy. While the first 2 films focus on Peter Quill, the last movie focuses on Rocket, finally revealing his tragic backstory. Originally a raccoon from North America, he gained sentience with the other animal denizens of Batch 89 after an experiment by the High Evolutionary. Their appearances are cute but also grotesque as their limbs have been replaced by metal prosthetics. <a href="https://www.vox.com/culture/2023/5/11/23719765/guardians-of-the-galaxy-rocket-raccoon-animal-rights-welfare-experimentation-disney-marvel">Guardians of the Galaxy Vol. 3 is somehow the best animal rights movie of the year.</a></p> <p>All of this is presented as flashbacks while the rest of the Guardians track down the High Evolutionary to save Rocket’s life after an attack by Adam Warlock. The Guardians are hilarious as they argue with each other. They are a loyal but dysfunctional family. It is the first Marvel movie in over 1 year that I found genuinely funny.</p> <p>The third act ends as all superhero movies must: in an action scene with our heroes fighting off a swarm of identical enemies followed by a showdown with the main villain. Gunn is creative planning the fight scene, finding time to demonstrate each heroes’ unique powers. By this point in their camaraderie, they are a well oiled machine. The High Evolutionary and his forces are no match. Our heroes prevail but split.</p> <p>The plot has a too many deus ex machinas. And the High Evolutionary is an underdeveloped villain. The movie is a redux of <em>Guardians of the Galaxy Vol. 2</em>, but with Rocket’s father issues instead of Starlord’s. Despite these flaw, <em>Guardians of the Galaxy Vol. 3</em> perfectly captures the themes of found family and growth in the face of trauma that have been core to the Guardians movies. It’s a beautiful sendoff for the Guardians of the Galaxy by James Gunn.</p> <p>8/10</p> <h3 id="across-the-spider-verse">Across the Spider-Verse</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BMzI0NmVkMjEtYmY4MS00ZDMxLTlkZmEtMzU4MDQxYTMzMjU2XkEyXkFqcGdeQXVyMzQ0MzA0NTM@._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BMzI0NmVkMjEtYmY4MS00ZDMxLTlkZmEtMzU4MDQxYTMzMjU2XkEyXkFqcGdeQXVyMzQ0MzA0NTM@._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BMzI0NmVkMjEtYmY4MS00ZDMxLTlkZmEtMzU4MDQxYTMzMjU2XkEyXkFqcGdeQXVyMzQ0MzA0NTM@._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BMzI0NmVkMjEtYmY4MS00ZDMxLTlkZmEtMzU4MDQxYTMzMjU2XkEyXkFqcGdeQXVyMzQ0MzA0NTM@._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>I remember seeing the <a href="https://www.youtube.com/watch?v=UpY3776T784">10/10 IGN review</a> for <em>Spiderman: Into the Spider-Verse</em> in December 2018. I considered watching the movie in theaters but ultimately did not. About half a year later, I watched the movie when it became available on Netflix. It was incredible, perhaps the most creative movie I had ever seen. The movie blended 3D computer animation and 2D comic book visuals with electronic and hip-hop music to tell a funny but emotional, novel but classic Spiderman story about a teenager who accidentally gets superpowers and learns how to be a hero. Since watching the <em>Into the Spider-Verse</em> on Netflix, I have always regretted not it in movie theaters.</p> <p>Four years later, I rectified my mistake by watching <em>Across the Spider-Verse</em> twice in theaters. It is only the third time I have watched a movie twice in theaters. The first 2 times were <em>Interstellar</em> and <em>Captain America: Civil War</em>, which I only rewatched as I had seen it the first time in 3D.</p> <p>I could summarize the plot of <em>Across the Spider-Verse</em>, but to keep this diary entry from taking 10 pages, I think it’s better to leave it to <a href="https://en.wikipedia.org/wiki/Spider-Man:_Across_the_Spider-Verse">Wikipedia</a>. Needless to say, it was exciting and continued logically from where the previous film ended. The script was packed with hard-hitting comedic and dramatic beats.</p> <p>For the past 4 years, the multiverse has been a popular topic in Hollywood, headlined by Marvel’s Multiverse Saga. Unlike Marvel’s bland Phase 4 movies, for <em>Across the Spider-Verse</em><sup id="fnref:2"><a href="#fn:2" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>, the multiverse is an opportunity to be creative—to put literally anything on screen. It’s an opportunity to wrestle with the difficult question of how to find hope and purpose in the inherently nihilistic concept of the multiverse. <em>Across the Spider-Verse</em>’s multiverse is maybe the most meta, canonically bound together by canon. Each Spiderman variant must go through the same canon events, the same stories of loss and hardship. To defy these, Miguel O’Hara claims, would lead to the destruction of an entire universe. One of these canon events is when a close police captain dies trying to save a little kid. For Miles, letting his soon to be promoted Captain father die as Miguel suggests, is unacceptable.</p> <p>While no song stands out in <em>Across the Spider-Verse</em> like <em>Sunflower</em> from <em>Into the Spider-Verse</em>, the sequel’s score is just as good. Like <em>Into the Spider-Verse</em>, <em>Across the Spider-Verse</em>’s score mashes electronic and hip-hop music. In line with the music trends of 2023, hip hop takes a backseat to the electronic elements of the score with rock motifs (since Gwen), foreign influences (since non-American Spidermen), and orchestral swells (since Hollywood). Even the commissioned the hip-hop songs lean industrial.</p> <p>Characterization is an area where <em>Across the Spider-Verse</em> exceeds its predecessor. While Spider Gwen and Peter B Parker were only other non-joke Spidermen characters in <em>Into the Spider-Verse</em>, <em>Across the Spider-Verse</em> introduces the too cool British anarchist Hobie Brown, the too green Pavitr Prabhakar, and the too crazed Miguel O’Hara who are as deep and as interesting as Spider Gwen or Peter B Parker.</p> <p>Visually, <em>Across the Spider-Verse</em> looks even better than Into the Spider-Verse. While <em>Into the Spider-Verse</em> took place on Morale’s Earth-1610, the sequel has the characters sling across multiple universes. Gwen’s pink and blue watercolor Earth-65 is especially stunning, with the background reflecting her emotional state. In a touching scene at the end of the movie, Gwen’s father George reveals that he quit the force not too long after Gwen left Earth-65 for 5 months. The moment they embrace, the background loses all detail. Only their love for each other matters.</p> <p>Ultimately, <em>Across the Spider-Verse</em> is half a 5-hour long movie. The movie ends on a cliff hanger ending in classic comic book style: “To be continued…”. While the movie does have some completeness from the resolution of Gwen’s conflict with her father, the reconciliation doesn’t quite feel earned. We don’t see George Stacy and Gwen struggle to repair their relationship. Only that after a 5-month absence, it is fixed. If the sequel is a 10/10, forming one of the greatest trilogies in film history, I will upgrade this movie’s rating. Until then…</p> <p>9/10</p> <h3 id="the-flash">The Flash</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BZWE2ZWE5MDQtMTJlZi00MTVjLTkxOTgtNmNiYjg2NDIxN2NhXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BZWE2ZWE5MDQtMTJlZi00MTVjLTkxOTgtNmNiYjg2NDIxN2NhXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BZWE2ZWE5MDQtMTJlZi00MTVjLTkxOTgtNmNiYjg2NDIxN2NhXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BZWE2ZWE5MDQtMTJlZi00MTVjLTkxOTgtNmNiYjg2NDIxN2NhXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>After watching <em>The Flash</em>, the overriding feeling I had was of disappointment. Why was that?</p> <p>The components of a great movie are in <em>The Flash</em>. Much of the plot is based on the Flashpoint comics crossover event that was successfully adapted in a 2013 animated film <em>Justice League: Flashpoint Paradox</em>. Barry’s grief around the childhood loss of his mother is the emotional core of the movie. Zod is a great villain. The arrival of the Kryptonians taps into the existential dread of <a href="https://www.youtube.com/watch?v=xAUJYP8tnRE">The Dark Forest</a>.</p> <p>Batman and Supergirl were great in their limited roles. Keaton’s Batman swan song is epic, befitting of an older, experienced Batman. Even in his advanced age, Batman is still an agile and fearsome fighter. Sasha Calle expertly portrays Kara Zor-El’s disappointment in her human captors. Her rage when she learns Kal-El’s fate from Zod is a brilliant bit of acting.</p> <p>It is after the deaths of Supergirl and Batman that the movie falls apart. <em>The Flash</em>’s multiverse is, much like the Spider-Verse, held together by fate. Certain events are subject to change but others—canon events in the terminology of <em>Across the Spider-Verse</em>—are fixed across every multiverse. But while <em>Across the Spider-Verse</em> suggests that this is not actually the case, <em>The Flash</em> leaves no room for doubt. Supergirl and Batman cannot be saved. This Earth is doomed to die at the hands of Zod. While superhero films shouldn’t always have happy endings, they shouldn’t have unhappy endings because of some immutable feature of the multiverse. It’s unsatisfying.</p> <p>The film was too slow for 144 minutes. The action scenes at the end were too short, partly because the front of the movie took up too much time at 1.5 hours. I saw online that earlier cuts of the film were 4 hours. While that is unreasonably long, <em>The Flash</em> feels like it needed that length. Much like the DCEU, <em>The Flash</em> doesn’t live up to whatever hype it had.</p> <p>4/10</p> <h3 id="oppenheimer">Oppenheimer</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BMDBmYTZjNjUtN2M1MS00MTQ2LTk2ODgtNzc2M2QyZGE5NTVjXkEyXkFqcGdeQXVyNzAwMjU2MTY@._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BMDBmYTZjNjUtN2M1MS00MTQ2LTk2ODgtNzc2M2QyZGE5NTVjXkEyXkFqcGdeQXVyNzAwMjU2MTY@._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BMDBmYTZjNjUtN2M1MS00MTQ2LTk2ODgtNzc2M2QyZGE5NTVjXkEyXkFqcGdeQXVyNzAwMjU2MTY@._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BMDBmYTZjNjUtN2M1MS00MTQ2LTk2ODgtNzc2M2QyZGE5NTVjXkEyXkFqcGdeQXVyNzAwMjU2MTY@._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Because this is a Christopher Nolan move, <em>Oppenheimer</em> cuts between 3 different threads: Oppenheimer’s life up to and through the Manhattan project, Oppenheimer’s security clearance review, and head of the Atomic Energy Commission’s Lewis Strauss Senate confirmation hearing for Secretary of Commerce. Nolan weaves between these 3 threads via flashbacks.</p> <p>The core of the movie is Oppenheimer’s scientific career and political activities which is presented by the numbers. It plainly shows his move from Cambridge to Germany to Berkeley to the Manhattan project. Tensions arise as Edward Teller wants to work on a fusion bomb, Klaus Fuchs (Soviet spy) joins, and the possibility of atmospheric ignition is realized. Germany surrenders before enough fissile material can be assembled to construct the bomb. Oppenheimer successfully heads off scientists who want to avoid finishing the bomb. Truman wants the bomb tested before the Potsdam conference to gain leverage in the negotiations for the post-WWII world. The scientists race against the weather and denote the bomb in the early morning.</p> <p>I highly anticipated the Trinity test scene. <em>Interstellar</em>, Nolan’s 2014 sci-fi film, included groundbreaking visualizations of a black hole. <a href="https://arxiv.org/abs/1502.03808">A paper</a> was published describing how the visual effects company incorporated relativistic equations into their image generation techniques. Nolan chose to portray the explosion slowly, focusing on the turbulent flows of fire in close ups before zooming out to the whole explosion. The shots closely follow <a href="https://en.wikipedia.org/wiki/File:TrinityDetonation1945GIF.gif">footage from the actual Trinity test</a>. After a minute of silent shots, Nolan shows the shock wave knocking over the observers, matching the actual 40 seconds it took for the shockwave to reach the observers.</p> <p>While there is no way Nolan could portray the blinding flash of a nuclear blast or the heat from the thermal radiation, it was difficult to gather the scale of the explosion from the Trinity scene. At 25 kilotons of TNT, the mushroom cloud reached 7.5 miles in height. For reference, Mount Everest is 5.5 miles tall. The shockwave could be felt 100 miles away.</p> <p>The score didn’t impress me either. The score had no notable moments. I feel Hans Zimmer would have been a better choice given their history on <em>Interstellar</em>, the Nolan film most similar to <em>Oppenheimer</em>, which I think is the best of Hans Zimmer’s film scores.</p> <p>With the successful test and Japan’s continued resistance, Truman decides to drop the bomb on Hiroshima and Nagasaki. As Oppenheimer gives a speech to the workers and their families of Los Alamos celebrating the successful use of their gadget, he is haunted by images of decaying bodies.</p> <p><em>Oppenheimer</em> continues after this natural climax as Oppenheimer pushes for arms control measures to prevent nuclear proliferation. Truman dismisses his concerns in private, so Oppenheimer works in public. The 3 threads come together. In retaliation for Oppenheimer publicly dismissing Strauss’s concerns exporting radioisotopes, he organizes the security clearance hearing to limit Oppenheimer’s political influence. Oppenheimer’s clearance is revoked following testimony from Edward Teller. In a mirror moment, testimony from David Hill leads the US Senate to vote against Strauss’s nomination.</p> <p>The amount of politics and philosophy in the film was unexpected but not unwelcomed. I anticipated more of the attention would be directed at the science required to build the atomic bomb. It’s a sensible decision. Movies are a bad medium to explain scientific concepts. The explanations must be short, assume little background knowledge, and fit into the greater plot. Depicting the struggles of individuals and groups over their values and actions-that is something that movies can do and have done.</p> <p>Overall, it was incredible to see my scientific heroes from the Golden age of physics on the big screen. Besides Oppenheimer there was Niels Bohr (Bohr model of the atom), Heisenberg (of the Heisenberg Uncertainty principle), Lawrence (inventor of the cyclotron), Fermi (of the Fermi Paradox), Teller (of the Ulam-Teller design for the hydrogen bomb), Einstein (discovered General Relativity), and even Gödel (of the Gödel Incompleteness Theorems). Some famous scientists were left out, notably Von Neumann (designed the explosive lens in the gadget) and Feynman (in charge of human computers in the T department). As Von Neumann is perhaps my favorite mathematician, his exemption prevents <em>Oppenheimer</em> from garnering a 10/10.</p> <p>9/10</p> <h3 id="barbie">Barbie</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BNjU3N2QxNzYtMjk1NC00MTc4LTk1NTQtMmUxNTljM2I0NDA5XkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BNjU3N2QxNzYtMjk1NC00MTc4LTk1NTQtMmUxNTljM2I0NDA5XkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BNjU3N2QxNzYtMjk1NC00MTc4LTk1NTQtMmUxNTljM2I0NDA5XkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BNjU3N2QxNzYtMjk1NC00MTc4LTk1NTQtMmUxNTljM2I0NDA5XkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>A great movie propelled by great marketing has made <em>Barbie</em> the highest grossing movie of 2023. The movie was released 3 weeks ago, but I delayed obtaining tickets since seats were sold out a day in advance. Even today, I had to buy my ticket the night before. <em>Barbie</em> is the third film directed by Greta Gerwig. Like her previous 2 films <em>Lady Bird</em> and <em>Little Women</em>, it examines American girl/womanhood, which <a href="https://www.nytimes.com/2023/10/12/magazine/taylor-swift-eras-tour.html">recently has been in the popular consciousness</a>. Unlike her previous 2 films, <em>Barbie</em> is hilarious. Its humor and great marketing has made <em>Barbie</em> the highest grossing movie of 2023.</p> <p>Ever since the rise of the MCU in 2008, undercutting irony has dominated humor in major American films. With their sarcasm, quips, self-mockery, and of course crossover events, the MCU became the most profitable movie franchise in the history of cinema. This trend took a while to hold. Phase 1 films like Captain America or Thor have few jokes. By <em>Avengers: Age of Ultron</em>, Captain America and Iron Man are joking about foul language while battling Nazis. After 20 something films from Marvel exploiting the same style of comedy, audiences (and myself) are ready for a change. This is clear in the failure of <em>Thor: Love and Thunder</em> which tries to repeat the success of <em>Thor: Ragnarok</em> by leaning further on the same comedic beats.</p> <p>In this environment, <em>Barbie</em> is breath of fresh air. Its jokes are subtle.</p> <ul> <li>When Barbie becomes normal footed, she says “If my feet were shaped like this, I would never wear heels.” The movie immediately moves on to the next bit of dialogue.</li> </ul> <p>Its jokes are smart.</p> <ul> <li>The Mattel intern says, “I’m a man with no power, does that make me a woman?”</li> </ul> <p>Its jokes are dumb.</p> <ul> <li>Ken’s house is “Ken’s Mojo Dojo Casa House”. Casa is Spanish for house. House appears twice in the name.</li> <li>The Kens nearly have a “beach off”. A clever double-entendre.</li> </ul> <p>In terms of laughs per minute, <em>Barbie</em> is perhaps the funniest movie I have ever watched.</p> <p><em>Barbie</em> isn’t pure comedy. Its has a lot to say about the gender dynamics. The movie starts in the world of Barbieland where Barbies hold all the positions of power. The Kens are marginalized. When Barbie and Ken leave Barbieland, their treatment is reversed. <em>Barbie</em> uses the Barbieland-real world juxtaposition to question societal gender norms in little moments. These moments coalesce in a powerful monologue from America Ferrara’s character Gloria who critiques the contradictory expectations placed on women in modern society.</p> <blockquote> <p><em>You have to be thin, but not too thin. And you can never say you want to be thin. You have to say you want to be healthy, but also you have to be thin. You have to have money, but you can’t ask for money because that’s crass. You have to be a boss, but you can’t be mean. You have to lead, but you can’t squash other people’s ideas. You’re supposed to love being a mother, but don’t talk about your kids all the damn time. You have to be a career woman but also always be looking out for other people. You have to answer for men’s bad behavior, which is insane, but if you point that out, you’re accused of complaining. You’re supposed to stay pretty for men, but not so pretty that you tempt them too much or that you threaten other women because you’re supposed to be a part of the sisterhood.</em></p> </blockquote> <p>The social commentary changes in the third act. Ken transforms Barbieland into a patriarchal society, inverting the hierarchy of Barbieland. Understandably, stereotypical Barbie is unhappy with this change and works to undo them. Stereotypical Barbie and her allies devise a stratagem to trick the Kens into fighting each other while they sieze power. The movie invites the audience to root for the Barbies in their endeavor which is…problematic. If the Barbie’s are supposed to be analogous to men in the real world and the Kens analogous to women, then the implication of restoring the traditional power structure of Barbieland is that traditional patriarchal relationships should be restored in the real world? The movie treats Ken’s “I’m Just Ken” number—his desire to be something more than Barbie’s boyfriend—as somewhat of a joke while taking Barbie’s desire to be more than a doll seriously.</p> <p>The movie realizes this. When the Kens demand one Supreme Court seat, President Barbie offers a lower court seat instead. The narrator says,</p> <blockquote> <p>And one day, the Kens will have as much power and influence in Barbie Land as women have in the Real World.</p> </blockquote> <p>The resolution is intentionally unsatisfactory. <a href="https://www.hercampus.com/school/jmu/the-barbies-arent-the-good-guys-but-neither-are-the-kens/">The Barbie’s aren’t good guys.</a></p> <p>Barbie is commerce and art. Funny and sharp. It’s amazing that Greta Gerwig and the rest of the artists who created the film were able to turn a movie about a toy into a <a href="https://whatismetamodern.com/film/barbie-movie-gerwig-metamodern/">meta-modernist masterpiece</a>.</p> <p>9/10</p> <h3 id="avatar-the-way-of-water">Avatar: The Way of Water</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BYjhiNjBlODctY2ZiOC00YjVlLWFlNzAtNTVhNzM1YjI1NzMxXkEyXkFqcGdeQXVyMjQxNTE1MDA@._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BYjhiNjBlODctY2ZiOC00YjVlLWFlNzAtNTVhNzM1YjI1NzMxXkEyXkFqcGdeQXVyMjQxNTE1MDA@._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BYjhiNjBlODctY2ZiOC00YjVlLWFlNzAtNTVhNzM1YjI1NzMxXkEyXkFqcGdeQXVyMjQxNTE1MDA@._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BYjhiNjBlODctY2ZiOC00YjVlLWFlNzAtNTVhNzM1YjI1NzMxXkEyXkFqcGdeQXVyMjQxNTE1MDA@._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>I never thought the first <em>Avatar</em> was ground breaking effects-wise <a href="https://screenrant.com/avatar-ways-original-movies-special-effects-groundbreaking/">despite the technological advancements required to make the film</a>. 13 years later, <em>Avatar: The Way of Water</em> doesn’t succeed where its predecessor failed. <em>Avatar: The Way of Water</em> explores the oceans of Pandora instead of the forests and floating mountains. It’s a fresh take<sup id="fnref:3"><a href="#fn:3" class="footnote" rel="footnote" role="doc-noteref">3</a></sup>. Pandora’s hydrosphere is pretty for sure, but the water world isn’t better looking than any other contemporary sci-fi/fantasy film you might see in theaters.</p> <p>Where <em>Avatar: The Way of Water</em> expands on the original is its interesting lineup of characters. Colonel Miles Quaritch returns but as a Recombinant, also known as an Avatar. His son Miles “Spider” Socorro was too young to make the return trip to Earth and so has been raised by human scientists who stayed behind on Pandora. Miles is a Na’vi but identifies as human; Spider is a human who very much acts like a Na’vi. Between the human and Na’vi worlds are Jake and his children. The cross matching of species and loyalties poses deep questions. The movie makes some progress towards answering these, but their full resolution is saved for the forthcoming sequels, Avatar’s 3-5.</p> <p>My thoughts on <em>Avatar 2</em> are best captured in <a href="https://www.vanityfair.com/hollywood/2017/11/james-cameron-titanic-20th-anniversary-avatar-terminator-fox-studios-sale">a quote by James Cameron</a>.</p> <blockquote> <p>Basically, if you loved the first movie, you’re gonna love these movies, and if you hated it, you’re probably gonna hate these. If you loved it at the time, and you said later you hated it, you’re probably gonna love these</p> </blockquote> <p>I didn’t love the first movie. It’s visuals didn’t wow me. The story was predictable. The characterization was bland. The world of Pandora was a remix of Sci-Fi tropes. <em>Avatar: The Way of Water</em> is more of the same, so I don’t love it either.</p> <p>5/10</p> <h3 id="the-marvels">The Marvels</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BM2U2YWU5NWMtOGI2Ni00MGMwLWFkNjItMjgyZWMxNjllNTMzXkEyXkFqcGdeQXVyMDM2NDM2MQ@@._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BM2U2YWU5NWMtOGI2Ni00MGMwLWFkNjItMjgyZWMxNjllNTMzXkEyXkFqcGdeQXVyMDM2NDM2MQ@@._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BM2U2YWU5NWMtOGI2Ni00MGMwLWFkNjItMjgyZWMxNjllNTMzXkEyXkFqcGdeQXVyMDM2NDM2MQ@@._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BM2U2YWU5NWMtOGI2Ni00MGMwLWFkNjItMjgyZWMxNjllNTMzXkEyXkFqcGdeQXVyMDM2NDM2MQ@@._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>I think I watched <em>The Marvels</em> for the sake of completion. I liked the concept of the first Captain Marvel movie but not the execution. I have watched almost every MCU release in theaters since 2013. I figured the <em>The Marvels</em> deserved a try. It was a soft mistake. The movie was soulless. It felt created solely to fill a slot on Marvel’s release calendar, to go from point A to point B in Marvel’s Phase 5 arc. It has some redeeming qualities. <em>The Marvel</em>’s action scenes are always slick, but there weren’t many. The movie was funny at times but didn’t try to be a comedy. That is probably a good thing since Marvel’s humor has been flat recently. The swapping gimmick was fun. Captain Marvel, Photon, and Ms. Marvel swap places every time they use their powers which leads to shenanigans.</p> <p>The problem with <em>The Marvels</em> is the same as <em>Captain Marvel</em>. By design, Captain Marvel is overpowered and emotionally stunted. Captain Marvel is probably the most powerful hero in the MCU, strong enough to take on infinity gauntlet Thanos. Because of Captain Marvel’s overwhelming strength, her fights with Dar-Benn has no stakes. There is no damage Superman has this problem too but the best Superman stories are about his human side: his struggles to integrate, his conflict over what to with his power, and his love for Lois. <a href="https://www.youtube.com/watch?v=6UuTd4pKHPo">Clark Kent is Superman’s true identity.</a> But Captain Marvel has little emotional range due to having had her memories wiped by the Kree. This makes for un-compelling cinema.</p> <p>4/10</p> <h3 id="hunger-games-ballad-of-songbirds-and-snakes">Hunger Games: Ballad of Songbirds and Snakes</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BOTZmMmY2MzctMjU2Yy00YjJlLTk1NjAtY2U4MmMxOWZkZWY4XkEyXkFqcGdeQXVyMjM4NTM5NDY@._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BOTZmMmY2MzctMjU2Yy00YjJlLTk1NjAtY2U4MmMxOWZkZWY4XkEyXkFqcGdeQXVyMjM4NTM5NDY@._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BOTZmMmY2MzctMjU2Yy00YjJlLTk1NjAtY2U4MmMxOWZkZWY4XkEyXkFqcGdeQXVyMjM4NTM5NDY@._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BOTZmMmY2MzctMjU2Yy00YjJlLTk1NjAtY2U4MmMxOWZkZWY4XkEyXkFqcGdeQXVyMjM4NTM5NDY@._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><em>Ballard of Songbirds and Snakes</em> is an adaption of the book of the same name. It is a prequel to the Hunger Games trilogy, the origin story of President Snow. The First Rebellion leaves his family impoverished. Coriolanus Snow is orphaned when his father Crassus Snow is killed by a rebel bomb. The circumstances impart a strong survival instinct on Coriolanus Snow.</p> <p>Tom Blyth is vexing as Snow. On the exterior is a cool, collected, and silver tongued teenager which belies a desperate interior. Snow wants to restore his family and his position in the Capitol. It leads him to take desperate actions. When he learns that he needs to successfully mentor a tribute to gain a University scholarship, he greets his tribute—Lucy Gray Baird—as she enters the Capitol. He sneaks food and tools for Lucy. He manipulates the 10th Hunger Games to ensure her victory. At the same time, Snow is not yet the amoral villain of the Hunger Games trilogies. He talks of helping people with his friend Sejanus Plinth. He falls in love with Lucy. Tom Blyth’s performance makes both sides of his personality believable.</p> <p>When his cheating catches up to him, he asks to be sent to District 12, where Lucy is from and has returned to. He kindles a romance with Lucy but cannot let go of the Capitol. His actions to protect Lucy get them both in trouble. They decide to flee from Panem. In their escape, the tension between Snow’s self-serving and selfless side breaks. But it is not because of a choice made by Snow but one made by Lucy. Lucy abandons him. Her fate is unknown. Betrayed, he returns back to the barracks and is recalled to the Capitol. Snow realizes what the Hunger Games are for: a reminder to everyone that the world is an arena. <a href="https://www.vox.com/culture/2023/11/17/23965577/hunger-games-songbirds-snakes-movie-review">You don’t even need to see other movies to know the man he’ll eventually become and what he’ll do to get there.</a></p> <p>7/10</p> <h3 id="teenage-mutant-ninja-turtles-mutant-mayhem">Teenage Mutant Ninja Turtles: Mutant Mayhem</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BYzE4MTllZTktMTIyZS00Yzg1LTg1YzAtMWQwZTZkNjNkODNjXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BYzE4MTllZTktMTIyZS00Yzg1LTg1YzAtMWQwZTZkNjNkODNjXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BYzE4MTllZTktMTIyZS00Yzg1LTg1YzAtMWQwZTZkNjNkODNjXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BYzE4MTllZTktMTIyZS00Yzg1LTg1YzAtMWQwZTZkNjNkODNjXkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><em>Into the Spider-Verse</em> is the most innovative animated film<sup id="fnref:4"><a href="#fn:4" class="footnote" rel="footnote" role="doc-noteref">4</a></sup> since <em>Toy Story</em> in 1995. It is part of <a href="https://www.youtube.com/watch?v=l96IgQmXmhM">a new wave of animation that looks to the stylized frames of <em>Into the Spider-verse</em> over the realistic 3D CGI of Pixar for inspiration</a>. It’s inspired by <em>Into the Spider-verse</em> but doesn’t copycat it. Each frame looks like a pastel picture. The moon has scribbled on patches of grey. The clouds have lines of green. The colors don’t blend as much as overlap. Its street art vibe matches the 1980s New York of the original Teenage Mutant Ninja Turtles comic books. The motion of the turtles resembles claymation.</p> <p><em>Teenage Mutant Ninja Turtles: Mutant Mayhem</em> would have been better if it copycatted more of <em>Into the Spider-Verse’s</em> script. Its story is too light hearted. It’s a by-the-numbers action flick that lacks the sufering and loss that gives <em>Into the Spider-Verse</em> so much emotional depth. Nothing bad happens to the turtles. Even in their lowest point, as they are milked for their blood, the scene is played for laughs. Mickey’s overdramatic cries of “Waaa it hurts” don’t hit you in the feels in the same way Miles angrily swiping the stuff off his desk in response to his uncle’s death. The turtles are very much invincible teenagers exploring the world. It lacks the incredible score and voice acting and characters that <em>Into the Spider-Verse</em> had. Still, the good visuals are enough to make an otherwise average film above average.</p> <p>6/10</p> <h3 id="mission-impossible-dead-reckoning-part-1">Mission Impossible: Dead Reckoning (Part 1)</h3> <figure> <picture> <source class="responsive-img-srcset" srcset="https://m.media-amazon.com/images/M/MV5BYzFiZjc1YzctMDY3Zi00NGE5LTlmNWEtN2Q3OWFjYjY1NGM2XkEyXkFqcGdeQXVyMTUyMTUzNjQ0._V1_FMjpg_UX1000_-480.webp 480w,https://m.media-amazon.com/images/M/MV5BYzFiZjc1YzctMDY3Zi00NGE5LTlmNWEtN2Q3OWFjYjY1NGM2XkEyXkFqcGdeQXVyMTUyMTUzNjQ0._V1_FMjpg_UX1000_-800.webp 800w,https://m.media-amazon.com/images/M/MV5BYzFiZjc1YzctMDY3Zi00NGE5LTlmNWEtN2Q3OWFjYjY1NGM2XkEyXkFqcGdeQXVyMTUyMTUzNjQ0._V1_FMjpg_UX1000_-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://m.media-amazon.com/images/M/MV5BYzFiZjc1YzctMDY3Zi00NGE5LTlmNWEtN2Q3OWFjYjY1NGM2XkEyXkFqcGdeQXVyMTUyMTUzNjQ0._V1_FMjpg_UX1000_.jpg" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><em>Dead Reckoning</em> has maybe the scariest foe that Ethan Hunt has faced. The Entity, a rouge AI, has the ability to effortlessly manipulate digital information. The world’s intelligence agencies are forced to go analogue. The Impossible Mission Force has fewer tools than ever. The massive computational capacity of the Entity allow it to predict the future. It has blessed its chosen agent Gabriel, an amoral, detached man from Ethan’s past, with this knowledge. He works for the Entity not out of any shared interest but seemingly to cause as much chaos as possible. The villaneous duo are . Ethan will have to dig deep to even win the battle.</p> <p>The action in <em>Mission Impossible: Dead Reckoning</em> is as well-designed and executed as ever. The set pieces are classic. An airport manhunt. A car chase. A runaway train. The fight scenes don’t quite match the visceral bathroom fight in <em>Mission Impossible: Fallout</em> but have the best choreography I have seen since <em>Shang-Chi</em>. The latest installment in the <em>Mission Impossible</em> franchise maintains the series’ high bar with the added twist of the Entity.</p> <p>7/10</p> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1"> <p>She has 21 Academy Awards nominations, winning 3, and 32 Golden Globe Award nominations, winning 8. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:2"> <p>And Everything Everywhere All At Once. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:3"> <p>More of a salty take. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:4"> <p>Made by Hollywood at least. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div>]]></content><author><name></name></author><category term="film-tv"/><summary type="html"><![CDATA[All the movies I watched in 2023]]></summary></entry><entry><title type="html">Blogging for 4 Years</title><link href="https://georgerpu.github.io/blog/2023/blogging-4-years/" rel="alternate" type="text/html" title="Blogging for 4 Years"/><published>2023-09-28T00:00:00+00:00</published><updated>2023-09-28T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2023/blogging-4-years</id><content type="html" xml:base="https://georgerpu.github.io/blog/2023/blogging-4-years/"><![CDATA[<p>Four years ago, I published <a href="https://georgerpu.github.io/blog/2019/the-cantor-set-minus-itself/">my first blog post</a>. It was a simple proof that $C - C = [0, 1]$ where $C$ is the Cantor set. Since then I have published over a dozen posts about mostly mathematics and programming, but also the <a href="https://georgerpu.github.io/blog/tag/reading/">book’s I’ve read</a> and <a href="https://georgerpu.github.io/blog/2023/economic-possiblities-for-ourselves/">economics</a>. Blogging has been my most consistent<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup> side project or hobby in the past 4 years.</p> <p>I started blogging because many of the AI researchers I looked up to had blogs. Blogging was a way to, dare I say, promote myself. Most of my early posts were related to the AI research I was doing while still an undergraduate. I switched from other themes to my current theme <a href="https://github.com/alshedivat/al-folio">al-folio</a>, designed for academics. I am not sure if this strategy ever worked. I still haven’t setup any analytics to track blog viewership. Very quickly, my blog topics diversified. Blogging became an excuse to learn things well, as I would need to write about them. Blogging is also a way to publish my thoughts and opinions, not just factual information. I continue to blog for these reasons, but most of all, I blog because I find it fun.</p> <p>I encourage anyone reading to consider blogging.</p> <ol> <li>It’s fun.</li> <li>It can be as easy as you want. <a href="https://jvns.ca/blog/2023/06/05/some-blogging-myths/">It’s a myth that blog posts need to be perfect works of art and science</a>. Dispelling this myth, giving myself room for the subpar, had made blogging more enjoyable.</li> <li>It’s a good method to practice writing which is a critical skill for any white collar worker. Even if <a href="https://blog.pragmaticengineer.com/on-writing-well/">you are a software engineer, you will need to master writing</a>.</li> <li>You have a unique perspective which others may benefit from.</li> </ol> <p>As for me, I have tried posting once every 2 months, 6 times a year, for the past 4 years. The schedule has helped me be prolific at the cost of laborious nights finishing a piece I have lost interest in. Going forward, I don’t want to be attached to any schedule, to keep blogging from becoming a chore. I may not post for many months or even a year. This doesn’t mean I will eventually stop posting. I don’t plan on giving up blogging any time soon.</p> <h2 id="my-favorite-posts-that-i-wrote">My Favorite Posts That I Wrote</h2> <ol> <li><a href="https://georgerpu.github.io/blog/2023/economic-possiblities-for-ourselves/">https://georgerpu.github.io/blog/2023/economic-possiblities-for-ourselves/</a></li> <li><a href="https://georgerpu.github.io/blog/2022/federated-learning-beyond/">https://georgerpu.github.io/blog/2022/federated-learning-beyond/</a></li> <li><a href="https://georgerpu.github.io/blog/2020/crdt/">https://georgerpu.github.io/blog/2020/crdt/</a></li> <li><a href="https://georgerpu.github.io/blog/2021/floc/">https://georgerpu.github.io/blog/2021/floc/</a></li> <li><a href="https://georgerpu.github.io/blog/2019/the-cantor-set-minus-itself/">https://georgerpu.github.io/blog/2019/the-cantor-set-minus-itself/</a></li> </ol> <h2 id="my-favorite-blogs">My Favorite Blogs</h2> <h3 id="academics-excluding-ai">Academics (Excluding AI)</h3> <h4 id="computer-scientists">Computer Scientists</h4> <ul> <li><a href="https://jxyzabc.blogspot.com">https://jxyzabc.blogspot.com</a></li> <li><a href="https://maheshba.bitbucket.io/blog/">https://maheshba.bitbucket.io/blog/</a></li> <li><a href="https://martin.kleppmann.com/archive.html">https://martin.kleppmann.com/archive.html</a></li> </ul> <h4 id="mathematicians">Mathematicians</h4> <ul> <li><a href="https://terrytao.wordpress.com">https://terrytao.wordpress.com</a></li> </ul> <h4 id="other-scientists">Other Scientists</h4> <ul> <li><a href="https://benjaminnoble.org/blog/">https://benjaminnoble.org/blog/</a></li> <li><a href="https://cduvallet.github.io">https://cduvallet.github.io</a> <ul> <li><a href="https://claireduvallet.substack.com/archive?sort=new">https://claireduvallet.substack.com/archive?sort=new</a></li> </ul> </li> </ul> <h4 id="political-scientists">Political Scientists</h4> <h3 id="artificial-intelligence">Artificial Intelligence</h3> <h4 id="companiesgroups">Companies/Groups</h4> <ul> <li><a href="https://ai.meta.com/blog/?page=1">https://ai.meta.com/blog/?page=1</a></li> <li><a href="https://bair.berkeley.edu/blog">https://bair.berkeley.edu/blog</a></li> <li><a href="https://blog.research.google">https://blog.research.google</a> <ul> <li><a href="https://www.deepmind.com/blog">https://www.deepmind.com/blog</a></li> <li><a href="https://pair.withgoogle.com">https://pair.withgoogle.com</a></li> </ul> </li> <li><a href="http://www.offconvex.org/">http://www.offconvex.org/</a></li> <li><a href="https://openai.com/blog/">https://openai.com/blog/</a></li> <li><a href="https://thegradient.pub/">https://thegradient.pub/</a></li> </ul> <h4 id="individuals">Individuals</h4> <ul> <li><a href="https://huyenchip.com">https://huyenchip.com</a></li> <li><a href="https://danieltakeshi.github.io">https://danieltakeshi.github.io</a></li> <li><a href="https://eugeneyan.com/writing/">https://eugeneyan.com/writing/</a></li> <li><a href="https://karpathy.github.io">https://karpathy.github.io</a></li> <li><a href="https://lilianweng.github.io">https://lilianweng.github.io</a></li> <li><a href="https://sebastianraschka.com">https://sebastianraschka.com</a></li> </ul> <h3 id="software-engineering">Software Engineering</h3> <ul> <li><a href="https://blog.pragmaticengineer.com">https://blog.pragmaticengineer.com</a></li> <li><a href="https://brooker.co.za/blog/">https://brooker.co.za/blog/</a></li> <li><a href="https://www.jeremykun.com/">https://www.jeremykun.com/</a></li> <li><a href="https://jvns.ca">https://jvns.ca</a></li> <li><a href="https://mhlakhani.com">https://mhlakhani.com</a></li> <li><a href="https://ntietz.com/blog/">https://ntietz.com/blog/</a></li> <li><a href="https://substack.com/@thecaringtechie">https://substack.com/@thecaringtechie</a></li> </ul> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1"> <p>The other contender would be weight lifting, but the pandemic and busy schedules and lethargy has frequently disrupted it. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div>]]></content><author><name></name></author><category term="writing"/><summary type="html"><![CDATA[Reflections on 4 years of georgerpu.github.io.]]></summary></entry><entry><title type="html">Economic Possibilities for Ourselves</title><link href="https://georgerpu.github.io/blog/2023/economic-possiblities-for-ourselves/" rel="alternate" type="text/html" title="Economic Possibilities for Ourselves"/><published>2023-09-10T00:00:00+00:00</published><updated>2023-09-10T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2023/economic-possiblities-for-ourselves</id><content type="html" xml:base="https://georgerpu.github.io/blog/2023/economic-possiblities-for-ourselves/"><![CDATA[<p>In 1930, during the depths of the Great Depression, John Maynard Keynes wrote a famous essay <a href="http://www.econ.yale.edu/smith/econ116a/keynes1.pdf">“Economic Possibilities for Our Grandchildren”</a> that took the long view of economic history. While large portions of the British and US populations were struggling to find work due to financial crisis, Keynes worried about <em>technological unemployment</em> and its impact on an unprepared society. Most of the essay is focused on the forthcoming social changes necessary to adapt to this problem.</p> <h2 id="predictions">Predictions</h2> <p>However, “Economic Possibilities for Our Grandchildren” is most famous for the predictions it makes.</p> <ol> <li>In 100 years, the standard of living will be 8 times better off.</li> <li>The <strong>economic problem</strong>, the struggle for sustenance, may be solved, or be at least within sight of solution, within a hundred years.</li> <li> <p>Most famously of all, a 15 hour work week. Although, it isn’t really a prediction. The exact quote is</p> <blockquote> <p>Three-hour shifts or a fifteen-hour week may put off the problem for a great while.</p> </blockquote> </li> <li>That culture will reform to stop valuing greed and usury and work.</li> </ol> <p>Only one of these predictions has been met.</p> <ol> <li>US real GDP, that is GDP inflation adjusted to FY2012 dollars, was <a href="https://www.statista.com/statistics/1031678/gdp-and-real-gdp-united-states-1930-2019/">\$1015.8 billion in 1930 and \$20,014.1 billion in 2022</a>. The US population numbers were 123,202,624 in 1930 and 333,287,557 in 2022 according to the US Census estimates. Thus real GDP per capita was \$8243.0 in 1930 and \$60,050.5 in 2022. If standard of living = real GDP per capita, then the standard of living has increased &gt;6x in the past 100 years.</li> <li>If the struggle of sustenance = above the poverty line, then we are nowhere close to eliminating poverty, even in advanced economies. <a href="https://www.census.gov/newsroom/stories/poverty-awareness-month.html">The US poverty rate in 2021 was 11%</a>. In countries with stronger social safety nets, it is lower but still present. <a href="https://www.canada.ca/en/employment-social-development/news/2023/05/canadas-poverty-rate-remains-below-pre-pandemic-levels.html">The Canadian poverty rate in 2021 was 7.4%</a>. <a href="https://www.dw.com/en/germany-what-poverty-looks-like-in-a-rich-country/a-63393501">The German poverty rate has consistently been above 10% for the past &gt;30 years</a>.</li> <li>No country in the world is close to a 15 hour work week. Some Western European countries are close to 1300 annual hours worked, which averages to 25 hours per week across an entire year. The decline in annual working hours has plateaued in many countries as the 35-40 hour workweek has remained the norm. In the US, annual working hours have stabilized around 1800 for decades.</li> <li>US culture has not let go of the Protestant work ethic over the past 100 years. If anything, secularization and the deterioration of civil society in America<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup> has led work to become more central to people’s identities. European work culture is much more inline with Keynes’ predictions.</li> </ol> <figure> <picture> <source class="responsive-img-srcset" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Annual_working_time_in_OECD.svg/2560px-Annual_working_time_in_OECD.svg-480.webp 480w,https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Annual_working_time_in_OECD.svg/2560px-Annual_working_time_in_OECD.svg-800.webp 800w,https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Annual_working_time_in_OECD.svg/2560px-Annual_working_time_in_OECD.svg-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Annual_working_time_in_OECD.svg/2560px-Annual_working_time_in_OECD.svg.png" class="img-fluid rounded" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h2 id="what-happened">What Happened?</h2> <p>Keynes accurately predicted the degree of economic growth over the coming century. Why did the other predictions—about changes to society—provide inaccurate? For that answer, we need to turn from economics to sociology, politics, and history.</p> <h3 id="prediction-2">Prediction 2</h3> <p>The struggle of sustenance, i.e. poverty, has remained in the lives of those in advanced economies. In fact, <a href="https://www.nytimes.com/2014/06/05/upshot/growth-has-been-good-for-decades-so-why-hasnt-poverty-declined.html">the poverty rate is decoupled from GDP growth</a>. The US poverty rate has oscillated between 10% to 15% for decades, with only 1 big reduction due to the Great Society programs of the 1960s. Keynes’ assumption that GDP growth therefore less poverty is false.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2023-09-10/us-poverty-rate-480.webp 480w,/assets/img/2023-09-10/us-poverty-rate-800.webp 800w,/assets/img/2023-09-10/us-poverty-rate-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2023-09-10/us-poverty-rate.png" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>If the US is richer than in 1970 on a per person basis, the stable poverty rate is failure of distribution. Indeed, US incomes are highly unequal. The history of income inequality reveals that it is affected by policy, union strength, and modes of production more than GDP growth. Inequality was high in the 1920s, declined in the mid 20th century, and then rose after ~1980. The causes are hotly debated.</p> <p>Income inequality alone isn’t sufficient to explain persistent poverty in the US. In theory, income and wealth distributions can be tightened by the state through taxes and social spending. Taking a global view, some European countries are genuinely close to eliminating poverty through this approach. Their success is stark in contrast to the neoliberal policies of the US.</p> <p>Since the 1950s, the US tax code has become less progressive as taxes on the rich, income and capital gains, dropped. Pre-tax, the Gini coefficient of the US is on par with higher tax Europe but, post-tax, it falls behind by &gt;0.1.</p> <iframe src="https://ourworldindata.org/grapher/inequality-of-incomes-before-and-after-taxes-and-transfers-scatter" loading="lazy" style="width: 100%; height: 600px; border: 0px none;"></iframe> <p>At the same time, the US safety net is weaker than in other developed countries. <a href="https://www.weforum.org/agenda/2021/02/social-spending-highest-lowest-country-comparison-oecd-france-economics-politics-welfare/">In 2019, US spending on social spending was 18.7%, below the OECD average of 20%</a>. Most Western European states had social spending as &gt;25% of GDP. The US doesn’t provide universal health care like in pretty much every other OECD country. Based on data gathered from the <a href="https://data.oecd.org/inequality/poverty-rate.htm">OECD</a> and <a href="https://www.weforum.org/agenda/2021/02/social-spending-highest-lowest-country-comparison-oecd-france-economics-politics-welfare/">World Economic Forum</a>, social spending is correlated with lower poverty rates.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2023-09-10/social-spending-vs-poverty-rate-480.webp 480w,/assets/img/2023-09-10/social-spending-vs-poverty-rate-800.webp 800w,/assets/img/2023-09-10/social-spending-vs-poverty-rate-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2023-09-10/social-spending-vs-poverty-rate.png" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Economic growth has made the elimination of poverty possible or near possible. This elimination requires a progressive tax system and comprehensive social safety net which many developed countries lack. The solution to the economic problem is within our grasp.</p> <h3 id="prediction-3">Prediction 3</h3> <p>Working hours and economic growth are not correlated. Higher productivity only makes lower working hours possible, by reducing the minimum number of working hours needs to produce at subsistence level, not inevitable. Previous economic transformations have caused working hours to increase, not decrease.</p> <p>Working hours in the factories of the early Industrial Revolution were much higher than on farms. It was not uncommon for factory workers to participate in 80-100 hour work weeks spread across &gt;5 days. <a href="https://groups.csail.mit.edu/mac/users/rauch/worktime/hours_workweek.html">In medieval Europe, peasants worked only during the growing season in the Spring, Summer, and Fall but intensely: 120 12 hour days a year for a probable total of 1,440 hours annually</a>. Farm and factory work are very different but <a href="https://groups.csail.mit.edu/mac/users/rauch/worktime/hours_workweek.html">artisans, which factories replaced, only worked 8-9 hours per day for &lt;2/3 of the year</a>. Thus, the 40 hour workweek is merely a return to the labor norms of the medieval era. However, <a href="https://www.nature.com/articles/s41562-019-0610-x">the Agricultural Revolution, the greatest economic advance before the Industrial Revolution, itself caused working hours to increase from hunter-gatherer societies</a>. Thus, despite the scientific and technological advances of the past 12,000 years, the average person in modern society has less leisure time than their Stone Age ancestors<sup id="fnref:2"><a href="#fn:2" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>.</p> <p>Since the 19th century, reductions in working hours have come through political not economic forces. The 40 hour workweek is a product of legislation. <a href="https://www.cultureamp.com/blog/40-hour-work-week">In the US, groups mobilized in support of a 40 hour workweek in the 1860s but it became law in 1940</a>. The story is the same across the world. Then, why did the labor movement stop at 40 hours? Why hasn’t a sub-40 hour workweek been widely adopted?</p> <p>I don’t have the answer but I suspect part of the reason is that the 955 schedule, 9 am to 5 pm 5 days per week, has been good enough. While 12 hour workdays are genuinely oppressive, 8 hour workdays are bearable. <a href="https://www.washingtonpost.com/technology/2023/05/24/4-day-work-week-united-states/">As a result, it is only post COVID that the 4 day workweek idea has taken off</a>. <a href="https://www.pewresearch.org/social-trends/2022/02/16/covid-19-pandemic-continues-to-reshape-work-in-america/">COVID changed Americans’ attitudes towards work</a>, prerequisites to the societal adoption of a 4 day workweek.</p> <h3 id="prediction-4">Prediction 4</h3> <p>Given that Predictions 2 and 3 have not come true, Keynes’ cultural prediction could not come to pass. The cultural evolution that Keynes’ imagines comes after economic bliss. Until societies solve the economic problem for the supermajority of the population and free up vast reserves of leisure time, we will need to tolerate the vices of greed and usury.</p> <blockquote> <p>But beware! The time for all this is not yet. For at least another hundred years we must pretend to ourselves and to every one that fair is foul and foul is fair; for foul is useful and fair is not. Avarice and usury and precaution must be our gods for a little longer still. For only they can lead us out of the tunnel of economic necessity into daylight.</p> </blockquote> <p>In the US, since ~1980<sup id="fnref:3"><a href="#fn:3" class="footnote" rel="footnote" role="doc-noteref">3</a></sup> there has been a disturbing trend towards greater works. The centrality of work in people’s lives rose in the late 20th century as social capital and organized religion declined. The decline left a void that work stepped in to fill. <a href="https://www.pewresearch.org/short-reads/2020/02/14/more-than-half-of-americans-say-marriage-is-important-but-not-essential-to-leading-a-fulfilling-life/">Americans view work as more essential to a fulfilling life than romantic relationships or having children</a>. <a href="https://www.pewresearch.org/social-trends/2023/01/24/parenting-in-america-today/?te=1&amp;nl=ross-douthat&amp;emc=edit_rd_20230130">American parents want these same things for their children</a>. Richer Americans work more than poorer Americans.</p> <p>This is irrational. <a href="https://community.thriveglobal.com/relationships-happiness-well-being-life-lessons/">Research in the social sciences indicates that relationships are the most important factor in life satisfaction</a>. Although there doesn’t appear to be any primacy placed on romantic relationships over friendships or familial bonds, Americans aren’t valuing those either.</p> <p>In Europe, things are closer to Keynes’ predictions. In general, Europeans work less than Americans due to possessing more vacation time and using it. Often this difference is attributed to culture. Europeans work to life; Americans live to work. Economists disagree<sup id="fnref:4"><a href="#fn:4" class="footnote" rel="footnote" role="doc-noteref">4</a></sup>, looking towards <a href="https://www.minneapolisfed.org/article/2003/european-vacation-why-americans-work-more-than-europeans">taxes</a>, <a href="https://scholar.harvard.edu/files/alesina/files/work_and_leisure_in_the_u.s._and_europe.pdf">labor policy</a>, or <a href="https://www.dallasfed.org/research/economics/2023/0119">other explanations</a> for the working hour gap. Of course, politics is downstream of culture. Culture plays a role in what policies are implemented.</p> <p>However the difference started, decades of reduced working hours has ingrained work-life balance in the European worldview. <a href="https://getyournewview.com/vacation-guilt-america-vs-europe-pto/">Europeans feel less guilty than Americans when taking vacations</a>. In the same survey, Europeans take more vacations days than Americans when they have unlimited PTO. While Americans and Europeans work off hours at equal rates, <a href="https://fortune.com/2017/01/01/french-right-to-disconnect-law/">European countries are passing laws banning work email after hours</a> in an attempt to maintain a right to disconnect. Nothing of this sort is happening in the US.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="https://getyournewview.com/wp-content/uploads/2022/05/New-View-Strategies-Vacation-Guilt_Graphic-4-480.webp 480w,https://getyournewview.com/wp-content/uploads/2022/05/New-View-Strategies-Vacation-Guilt_Graphic-4-800.webp 800w,https://getyournewview.com/wp-content/uploads/2022/05/New-View-Strategies-Vacation-Guilt_Graphic-4-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="https://getyournewview.com/wp-content/uploads/2022/05/New-View-Strategies-Vacation-Guilt_Graphic-4.png" class="img-fluid" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h2 id="the-importance-of-politics">The Importance of Politics</h2> <p>Keynes overestimated the importance that GDP growth would have in reaching economic bliss and underestimated the importance of the soft factors: politics, culture, union strength, etc. I believe that for these reasons, Keynes never expressed complete certainty in his predictions. After all, the title of the essay is “Economic Possibilities for Our Grandchildren”, not “Economic Certainties for Our Grandchildren”.</p> <p>Increases to worker productivity have made the end of poverty and sub 40 hour workweek possible. It is by our hands, not nature’s, that we have failed to achieve these goals. Some examples:</p> <ul> <li>The nearly 1 trillion dollar US defense budget comes at the cost of greater social spending. <a href="https://prospect.org/power/much-money-take-eliminate-poverty-america/">A fraction of that could eliminate poverty in the US</a>.</li> <li>The US lacks mandated minimum vacation time legislation.</li> <li><a href="https://www.washingtonpost.com/technology/2023/05/24/4-day-work-week-united-states/">Companies resist the extensive changes needed to make 4 day workweeks possible</a>.</li> <li><a href="https://eh.net/encyclopedia/hours-of-work-in-u-s-history/">Labor leaders tried reviving the push for fewer working hours post WW2 but found most didn’t workers didn’t want a shorter work week</a>.</li> </ul> <p>Keynes thought that Predictions 2 and 3 would lead to Prediction 4. In fact, Prediction 4 must take place before Predictions 2 and 3. Only by changing people’s attitudes towards work and life and inequality can economic bliss be made available for everyone.</p> <hr/> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1"> <p>See Bowling Alone: The Collapse and Revival of American Community. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:2"> <p>Agriculture also reduced the quality of life for most people. Hunter-gatherers were taller than their farming cousins. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:3"> <p>This year shows up a lot in the economic history of the US as it represents the shift from the New Deal to the neoliberal era. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:4"> <p>Naturally, economists will seek economic answers to questions. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div>]]></content><author><name></name></author><category term="economics"/><summary type="html"><![CDATA[What Keynes got right and wrong in his famous essay.]]></summary></entry><entry><title type="html">Solution to Why π is in the normal distribution (beyond integral tricks)</title><link href="https://georgerpu.github.io/blog/2023/solutions-to-why-pi/" rel="alternate" type="text/html" title="Solution to Why π is in the normal distribution (beyond integral tricks)"/><published>2023-04-02T00:00:00+00:00</published><updated>2023-04-02T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2023/solutions-to-why-pi</id><content type="html" xml:base="https://georgerpu.github.io/blog/2023/solutions-to-why-pi/"><![CDATA[\[\newcommand{\D}[1]{\mathop{d#1}}\] <p>In 3Blue1Brown’s latest video <a href="https://www.youtube.com/watch?v=cy8r7WSuT1I">Why π is in the normal distribution (beyond integral tricks) </a>, you can find an exercise at the <a href="https://youtu.be/cy8r7WSuT1I?t=1500">end</a> that computes the $n-1$ volume of the boundary of an $n$-dimensional ball using the integral of a Guassian function. These is the solution.</p> <h2 id="part-1">Part 1</h2> \[\begin{align*} I_n &amp;= \int_{-\infty}^{\infty} \cdots \int_{-\infty}^{\infty} e^{-(x_1^2 + \dots + x_n^2)} \D{x_1} \cdots \D{x_n} \\ &amp;= \int_{-\infty}^{\infty} \cdots \int_{-\infty}^{\infty} e^{-x_1^2} \cdots e^{-x_n^2} \D{x_1} \cdots \D{x_n} \\ &amp;= \int_{-\infty}^{\infty} e^{-x_n^2} \cdots \int_{-\infty}^{\infty} e^{-x_1^2} \D{x_1} \cdots \D{x_n} \\ &amp;= \underbrace{\sqrt{\pi} \cdots \sqrt{\pi}}_{n \text{ times}} \\ &amp;= \pi^{n/2} \end{align*}\] <h2 id="part-2">Part 2</h2> <p>The integral $I_n$ calculates the total volume of the $n$-dimensional un-normalized Gaussian in $\mathbb{R}^n$ by integrating $e^{-(x_1^2 + \dots + x_n^2)}$ along each dimension from $-\infty$ to $\infty$.</p> <p>Another way to calculate the volume of the Gaussian is using hyperspherical coordinates. There is 1 radial coordinate $r \geq 0$, $n-2$ angular coordinates $\phi_1, \dots, \phi_{n-2} \in [0, \pi)$, and another angular coordinate $\theta \in [0, 2\pi)$. As a function of these parameters, the Gaussian only depends on $r$</p> \[f(r) = e^{-r^2}\] <p>Recall that in polar coordinates $\D{A} = r \D{\theta} \D{r}$. Similarly, $\D{V} = r^{n-1} \D{\phi_1} \cdots \D{\phi_n} \D{\theta} \D{r}$. Let</p> \[C_n = \int_{0}^{2\pi} \int_{0}^{\pi} \cdots \int_{0}^{\pi} 1 \D{\phi_1} \cdots \D{\phi_n} \D{\theta}.\] <p>Then</p> \[\begin{align*} I_n &amp;= \int_{0}^{r} \int_{0}^{2\pi} \int_{0}^{\pi} \cdots \int_{0}^{\pi} e^{-r^2} r^{n-1} \D{\phi_1} \cdots \D{\phi_n} \D{\theta} \D{r} \\ &amp;= \int_{0}^{r} C_n r^{n-1} e^{-r^2} \D{r}. \end{align*}\] <h2 id="part-3">Part 3</h2> <p>Let $u = r^{n-2}$ and $\D{v} = re^{-r^2} \D{r}$. Then $\D{u} = (n - 2)r^{n-3} \D{r}$ and $v = -\frac{1}{2} e^{-r^2}$.</p> \[\begin{align*} I_n &amp;= \int_{0}^{\infty} C_n r^{n-1} e^{-r^2} \D{r} \\ &amp;= C_n \int_{0}^{\infty} u \D{v} \\ &amp;= C_n \left( uv - \int_{0}^{\infty} v \D{u} \right) \\ &amp;= C_n \left( \left[ r^{n-2} \cdot -\frac{1}{2}e^{-r^2} \right]_{0}^{\infty} - \int_{0}^{\infty} -\frac{1}{2}e^{-r^2} (n - 2)r^{n-3} \D{r} \right) \\ \end{align*}\] <p>We first compute $\left[ r^{n-2} \cdot -\frac{1}{2}e^{-r^2} \right]_{0}^{\infty}$. Clearly, it is 0 when $r = 0$. When $r \to \infty$,</p> \[r^{n-2} \cdot -\frac{1}{2}e^{-r^2} = -\frac{r^{n-2}}{2e^{r^2}} = -\frac{\infty}{\infty}\] <p>Using L’Hôpital’s rule, we get</p> \[-\frac{(n-2)r^{n-3}}{4re^{r^2}} = -\frac{\infty}{\infty}\] <p>which is still indeterminate. However, we see that, after $n-3$ more differentiations of the numerator and denominator, the numerator will eventually resolve to a constant while the denominator is $cp(r)e^{r^2}$ for some constant $c$ and $p(r)$ power of $r$.</p> \[\lim\limits_{r \to \infty} r^{n-2} \cdot -\frac{1}{2}e^{-r^2} = 0\] <p>With the $[uv]_{0}^{\infty}$ term eliminated,</p> \[\begin{align*} I_n &amp;= C_n \left( - \int_{0}^{\infty} -\frac{1}{2}e^{-r^2} (n - 2)r^{n-3} \D{r} \right) \\ &amp;= \frac{n - 2}{2} C_n \int_{0}^{\infty} r^{n-3}e^{-r^2} \D{r} \\ &amp;= \frac{n - 2}{2} C_n \frac{I_{n-2}}{C_{n-2}} \end{align*}\] <p>since $I_{n-2}$ includes the $C_{n-2}$ term in the integral.</p> <h2 id="part-4">Part 4</h2> <p>From Part 1, we know that $I_n = \pi^{n/2}$.</p> \[\begin{align*} I_n &amp;= \frac{n - 2}{2} C_n \frac{I_{n-2}}{C_{n-2}} \\ \pi^{n/2} &amp;= \frac{n - 2}{2} C_n \frac{\pi^{(n-2)/2}}{C_{n-2}} \\ C_{n-2} \frac{2}{n-2} \frac{\pi^{n/2}}{\pi^{(n-2)/2}} &amp;= C_n \\ C_{n-2} \frac{2\pi}{n - 2} &amp;= C_n \\ C_n &amp;= \frac{2\pi}{n - 2} C_{n-2} \end{align*}\] <p>Using the recurrence relation, we can compute $C_n$ for any $n$.</p> \[\begin{align*} C_2 &amp;= 2\pi \\ C_3 &amp;= 4\pi \\ C_4 &amp;= \frac{2\pi}{4 - 2} C_2 = 2\pi^2 \\ C_5 &amp;= \frac{2\pi}{5-2}C_3 = \frac{8}{3}\pi^2 \\ C_6 &amp;= \frac{2\pi}{6 - 2}C_4 = \pi^3 \\ C_7 &amp;= \frac{2\pi}{7 - 2}C_5 = \frac{16}{15} \pi^3 \end{align*}\] <p>For</p> \[S(n) = n\frac{\pi^{n/2}}{(n/2)!} r^{n-1}\] <p>to be the volume of the boundary of a $n$-dimensional ball, $S(n)$ must satisfy 2 conditions.</p> <ol> <li>$n\frac{\pi^{n/2}}{(n/2)!}$ must satisfy the recurrence relation above for $C_n$.</li> </ol> \[\begin{align*} n\frac{\pi^{n/2}}{(n/2)!} &amp;\stackrel{?}{=} \frac{2\pi}{n - 2} (n - 2)\frac{\pi^{(n-2)/2}}{((n-2)/2)!} \\ &amp;\stackrel{?}{=} 2\frac{\pi^{n/2}}{((n-2)/2)!} \\ n/2 \frac{\pi^{n/2}}{(n/2)!} &amp;\stackrel{?}{=} \frac{\pi^{n/2}}{((n-2)/2)!} \\ \frac{\pi^{n/2}}{((n - 2)/2)!} &amp;\stackrel{\checkmark}{=} \frac{\pi^{n/2}}{((n-2)/2)!} \end{align*}\] <ol> <li>$S(2) = 2\pi r$ and $S(3) = 4\pi r^2$.</li> </ol> \[\begin{align*} S(2) &amp;= 2 \frac{\pi^{2/2}}{(2/2)!} r^{2-1} \\ &amp;= 2\pi r \\ S(3) &amp;= 3 \frac{\pi^{3/2}}{(3/2)!} r^{3-1} \\ &amp;= 3 \frac{\pi^{3/2}}{(3/2)!} r^2 \\ &amp;= 3 \frac{\pi^{3/2}}{(3/2)(1/2)(-1/2)!} r^2 \\ &amp;= 3 \frac{\pi^{3/2}}{(3/2)(1/2)\sqrt{\pi}} r^2 \\ &amp;= 4\pi r^2 \end{align*}\]]]></content><author><name></name></author><category term="mathematics"/><summary type="html"><![CDATA[The (n-1)-volume of the boundary of a n-dimensional ball]]></summary></entry><entry><title type="html">Quasi-Newton Methods (2/2): BFGS</title><link href="https://georgerpu.github.io/blog/2023/quasi-netwon-bfgs/" rel="alternate" type="text/html" title="Quasi-Newton Methods (2/2): BFGS"/><published>2023-03-14T00:00:00+00:00</published><updated>2023-03-14T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2023/quasi-netwon-bfgs</id><content type="html" xml:base="https://georgerpu.github.io/blog/2023/quasi-netwon-bfgs/"><![CDATA[<h2 id="bfgs">BFGS</h2> <p>Instead of making the ansatz that the $B_{k+1}$ update is by summing an outer product, we instead make the ansatz that $H_{k+1}$ should be close to $H_k$ while satisfying the symmetry and secant equation constraints. Hopefully, the closeness requirement will make the update easy to compute.</p> <p>Thus, $H_{k+1}$ is the solution to the constrained minimization problem</p> \[\begin{aligned} \min&amp;\quad \|H - H_k\|_{W}^2 \\ \text{subject to}&amp;\quad H = H^\top \\ &amp;\quad s_k = Hy_k. \end{aligned}\] <p>Here $\|A\|_W = \|W^{1/2}AA^{1/2}\|_F$ denotes the <strong>weighted Frobenius norm</strong> where $W$ is any symmetric matrix satisfying $Wy_k = s_k$.</p> <p>Define</p> \[\begin{align*} \hat{H} &amp;= W^{1/2}HW^{1/2} &amp; \hat{H}_k &amp;= W^{1/2}H_kW^{1/2} \\ \hat{s}_k &amp;= W^{1/2}s_k &amp; \hat{y}_k &amp;= W^{-1/2}y_k \end{align*}\] <p>Then the optimization problem becomes</p> \[\min \|\hat{H} - \hat{H}_k\|_F^2 \quad\text{subject to} \quad \hat{s}_k = \hat{y}_k = \hat{H}_k \hat{y}_k\] <p>as $W^{-1/2}W s_k = W^{-1/2}y_k$.</p> <p>Since $\hat{y}_k$ is an eigenvector of $\hat{H}$, let $u = \hat{y}_k/\|\hat{y}_k\|$. For an orthonormal complement $u_\perp$, $U = [u \mid u_\perp]$ is an orthonormal basis. Note that</p> \[\|\hat{H} - \hat{H}_k\|_F^2 = \|U^\top \hat{H}_kU - U^\top\hat{H}U\|_F^2\] <p>because the Frobenius norm is unitary invariant.</p> \[\begin{align*} U^\top\hat{H}_kU - U^\top\hat{H}U &amp;= \begin{bmatrix} u^\top \\ u_\perp^\top \end{bmatrix} \hat{H}_k \begin{bmatrix} u &amp; u_\perp \end{bmatrix} - \begin{bmatrix} u^\top \\ u_\perp^\top \end{bmatrix} \hat{H} \begin{bmatrix} u &amp; u_\perp \end{bmatrix} \\ &amp;= \begin{bmatrix} u^\top\hat{H}_k u &amp; u^\top \hat{H}_k u_\perp \\ u_\perp^\top\hat{H}_k u &amp; u_\perp^\top\hat{H}_ku_\perp \end{bmatrix} - \begin{bmatrix} u^\top\hat{H}u &amp; u^\top\hat{H}u_\perp \\ u_\perp^\top\hat{H}u &amp; u_\perp^\top\hat{H}u_\perp \end{bmatrix} \\ &amp;= \begin{bmatrix} u^\top\hat{H}_ku &amp; u^\top\hat{H}_ku_\perp \\ u_\perp^\top\hat{H}_ku &amp; u_\perp^\top\hat{H}_ku_\perp \end{bmatrix} - \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; u_\perp^\top\hat{H}u_\perp \end{bmatrix} \end{align*}\] <p>Since $\hat{H}$ is only present in the lower right entry, $\|U^\top\hat{H}_k U - U^\top\hat{H}U\|_F$ is minimized when $U^\top\hat{H}_k U = U^\top\hat{H}U$. Thus the optimal</p> \[\begin{align*} \hat{H} &amp;= U \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; u_\perp^\top\hat{H}_ku_\perp \end{bmatrix} U^\top \\ &amp;= uu^\top + u_\perp u_\perp^\top H_k u_\perp u_\perp^\top \\ &amp;= uu^\top + (I - uu_\perp)\hat{H}_k(I - uu_\perp) \end{align*}\] <p>since $u_\perp u_\perp^\top = (I - uu_\perp)$.</p> <p>After substituting the original variables, we get the <strong>Broyden-Fletcher-Goldfarb-Shanno</strong> (BFGS) algorithm.</p> \[H_{k+1} = (I - \gamma_k s_ky_k^\top)H_k(I - \gamma_k y_ks_k^\top) + \gamma_k s_k s_k^\top\] <p>where $\gamma_k = \frac{1}{y_k^\top s_k}$.</p> <h3 id="pros">Pros</h3> <p>BFGS has many advantages over SR1.</p> <ul> <li>Storing and updating $H_k$ is $O(n^2)$.</li> <li>BFGS is a rank 2 method since it is multiplied by and summed with an outer product.</li> <li>BFGS converges at a super-linear but not quadratic rate. This makes BFGS faster than gradient descent but slower than Newton’s method.</li> </ul> <h2 id="l-bfgs">L-BFGS</h2> <p>Note that we are not actually interested in approximating the Hessian but computing the descent direction $d_k = H_k \nabla f(x)$. Let $q_k = \nabla f(x)$.</p> \[\begin{align*} H_{k+1} q_{k+1} &amp;= (I - \gamma_k s_ky_k^\top)H_k(I - \gamma_k y_ks_k^\top)q_k + \gamma_k s_k s_k^\top q_k \\ &amp;= (I - \gamma_k s_ky_k^\top)H_k(q_k - [\gamma_k s_k^\top q_k]y_k) + [\gamma_k s_k^\top q_k] s_k \end{align*}\] <p>Define $\alpha_k = \gamma_k s_k^\top q_k$ and $q_{k+1} = q_k - \alpha_k y_k$.</p> \[\begin{align*} H_{k+1} q_{k+1} &amp;= (I - \gamma_k s_ky_k^\top)H_kq_{k+1} + \alpha_k s_k \\ &amp;= [H_kq_{k+1}] - \gamma_k s_ky_k^\top[H_kq_{k+1}] + \alpha_k s_k \end{align*}\] <p>Letting $z_k = H_kq_{k+1}$ and $\beta_k = \gamma_k y_k^\top z_k$, we have</p> \[H_{k+1}q_{k+1} = z_{k+1} - \beta_ks_k + \alpha_ks_k^\top = z_k + (\alpha_k - \beta_k) s_k^\top.\] <p>The <strong>Limited-memory BFGS</strong> (L-BFGS) approximates the BGFS algorithm using only $O(n)$ space by storing $m \ll n$ pairs $(s_k, y_k), \dots, (s_{k-m+1}, y_{k-m+1})$ by making the assumption that $H_{k-m+1} = \gamma_{k-m+1} I$. Then we can compute the current descent direction using the algorithm below.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lr</span> <span class="o">=</span> <span class="c1"># learning rate
</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">converged</span><span class="p">:</span>
    <span class="n">q</span> <span class="o">=</span> <span class="nf">grad</span><span class="p">(</span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">s</span><span class="p">.</span><span class="nf">t</span><span class="p">()</span> <span class="o">@</span> <span class="n">q</span>
        <span class="n">q</span> <span class="o">-=</span> <span class="n">alpha</span> <span class="o">*</span> <span class="n">y</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">q</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">k</span> <span class="o">-</span> <span class="n">m</span><span class="p">),</span> <span class="n">k</span><span class="p">):</span>
        <span class="n">beta</span> <span class="o">=</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">y</span><span class="p">.</span><span class="nf">t</span><span class="p">()</span> <span class="o">@</span> <span class="n">z</span>
        <span class="n">z</span> <span class="o">+=</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">-</span> <span class="n">beta</span><span class="p">)</span> <span class="o">*</span> <span class="n">z</span>
    <span class="n">x</span> <span class="o">-=</span> <span class="n">lr</span> <span class="o">*</span> <span class="n">z</span>
    <span class="n">k</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div> <h3 id="pros-1">Pros</h3> <ul> <li>L-BGFS uses only $O(mn)$ memory compared to $O(n^2)$ for BFGS.</li> </ul> <h3 id="cons">Cons</h3> <ul> <li>L-BFGS does not have the same theoretical guarantees as BFGS. In practice, L-BFGS can perform just as well as BFGS.</li> </ul> <p>Number of iterations required for different optimization algorithms to find the minimum $(1, 1)$ of the <strong>Rosenbrock function</strong> $f(x, y) = (1 - x)^2 + 100(y - x^2)^2$.</p> <table> <thead> <tr> <th>Starting Point</th> <th>Newton-CG</th> <th>SR1</th> <th>BFGS</th> <th>L-BFGS</th> </tr> </thead> <tbody> <tr> <td>(10, 10)</td> <td>51</td> <td>133</td> <td>87</td> <td>46 :trophy:</td> </tr> <tr> <td>(-1, -1)</td> <td>38</td> <td>49</td> <td>31</td> <td>26 :trophy:</td> </tr> <tr> <td>(0, 100)</td> <td>37</td> <td>49</td> <td>72</td> <td>34 :trophy:</td> </tr> <tr> <td>(-100, 0)</td> <td>140</td> <td>14 :trophy:</td> <td>394</td> <td>58</td> </tr> <tr> <td>(0.5, 0.5)</td> <td>26</td> <td>41</td> <td>17 :trophy:</td> <td>18</td> </tr> </tbody> </table>]]></content><author><name></name></author><category term="mathematics"/><summary type="html"><![CDATA[A derivation of the BFGS and L-BFGS algorithms.]]></summary></entry><entry><title type="html">Quasi-Newton Methods (1/2): SR1</title><link href="https://georgerpu.github.io/blog/2023/quasi-newton-sr1/" rel="alternate" type="text/html" title="Quasi-Newton Methods (1/2): SR1"/><published>2023-02-14T00:00:00+00:00</published><updated>2023-02-14T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2023/quasi-newton-sr1</id><content type="html" xml:base="https://georgerpu.github.io/blog/2023/quasi-newton-sr1/"><![CDATA[<p><strong>Newton’s method</strong> is a classic optimization algorithm. Given a function $f\colon \mathbb{R}^n \to \mathbb{R}$ which we want to minimize, Newton’s method updates a starting point $x_0$ based on the gradient $\nabla f$ and Hessian $Hf$.</p> \[x_{k+1} = x - [Hf(x_k)]^{-1} \nabla f(x_k)\] <p>While the gradient $\nabla f(x)$ is a $n$-dimensional vector of the partial derivatives</p> \[\left(\frac{\partial f}{\partial x_1}, \dots, \frac{\partial f}{\partial x_n} \right),\] <p>the Hessian is a $n \times n$​ matrix of all second derivatives.</p> \[\begin{bmatrix} \frac{\partial^2 f}{\partial x_1^2} &amp; \dots &amp; \frac{\partial^2 f}{\partial x_1 \partial x_n} \\ \vdots &amp; \ddots &amp; \vdots \\ \frac{\partial^2 f}{\partial x_n \partial x_1} &amp; \dots &amp; \frac{\partial^2 f}{\partial x_n^2} \end{bmatrix}\] <p>Because</p> <ol> <li>the Hessian scales quadratically with the number of dimensions and</li> <li>must be inverted,</li> </ol> <p>for applications with high dimensions, such as optimizing the millions of parameters of a neural network, <strong>quasi-Newton methods</strong> that approximate the inverse Hessian from the gradient are preferred over Newton’s method. We try to approximate the inverse Hessian instead of the Hessian to avoid performing an expensive matrix inverse.</p> <p>Let $H_k = B_k^{-1}$ be a matrix. Here, $B_k$ approximates the Hessian while $H_k$​​ approximates the Hessian’s inverse.<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup> Our quasi-Newton update rule takes the form:</p> \[x_{k+1} = x_k - H_k \nabla f(x_k).\] <p>Let $s_k = x_{k+1} - x_k$. Then</p> \[s_k = - H_k \nabla f(x_k).\] <p>So long as $H_k$ is positive definite, then</p> \[-f(x_k)^\top s_k = -f(x_k)^\top H_k \nabla f(x_k).\] <p>The directional derivative $\nabla f(x_k)^\top s_k$ is negative and so $s_k$​ is in the downhill direction. Note that if $H_k = I$, the equation above reduces to gradient descent, and if $H_k = [Hf(x)]^{-1}$, the equation reduces to Newton’s method.</p> <p>There are many different approaches to approximate $H_k$​​​​ for quasi-Newton methods. We present 3 over 2 posts.</p> <h2 id="symmetric-rank-1">Symmetric Rank 1</h2> <p>We can approximate $H_k$ using the secant equation. The secant equation is the multidimensional generalization of the 1D rule that the derivative is approximately the slope of the secant line:</p> \[f'(x_1) \approx \frac{f'(x_1) - f''(x_0)}{x_1 - x_0}.\] <p>Let $y_k = \nabla f(x_{k+1}) - \nabla f(x_k)$ and $s_k = x_{k+1} - x_k$ as before.</p> \[B_{k+1}s_k = y_k\] <p>The secant equation gives us $n$ linear equations but $n(n + 1)/2$ unknown values in $B_{k+1}$. The secant equation is underdetermined.</p> <p>To compensate, we make the ansatz that the $B_{k+1}$ update takes the form</p> \[B_{k+1} = B_k + \sigma vv^\top\] <p>where $\sigma = \pm 1$. This method is called <strong>Symmetric Rank 1</strong> because $vv^\top$​ is a symmetric rank 1 matrix.</p> <p>Let’s apply the ansatz to the secant equation.</p> \[\begin{align*} y_k &amp;= B_{k+1}s_k \\ &amp;= B_ks_k + \sigma vv^\top s_k \\ &amp;= B_ks_k + (\sigma v^\top s_k)v \end{align*}\] <p>Solve for $v$​.</p> \[\begin{align*} y_k - B_ks_k &amp;= (\sigma v^\top s_k)v \\ v &amp;= \frac{y_k - B_ks_k}{\sigma v^\top s_k} \end{align*}\] <p>From the equation for $v$, we get</p> \[\begin{align*} v^\top s_k &amp;= \frac{(y_k - B_ks_k)^\top s_k}{\sigma v^\top s_k} \\ (v^\top s_k)^2 &amp;= \frac{(y_k - B_ks_k)^\top s_k}{\sigma} \end{align*}\] <p>Now we can eliminate $vv^\top$ and $\sigma$​​​ from the update.</p> \[\begin{align*} \sigma vv^\top &amp;= \sigma \frac{y_k - B_ks_k}{\sigma v^\top s_k} \cdot \frac{(y_k - B_ks_k)^\top}{\sigma v^\top s_k} \\ &amp;= \sigma \frac{(y_k - B_ks_k)(y_k - B_ks_k)^\top}{\sigma^2 (v^\top s_k)^2} \\ &amp;= \sigma \frac{(y_k - B_ks_k)(y_k - B_ks_k)^\top}{\frac{\sigma^2}{\sigma}(y_k - B_ks_k)^\top s_k} \\ &amp;= \frac{(y_k - B_ks_k)(y_k - B_ks_k)^\top}{(y_k - B_ks_k)^\top s_k} \\ \end{align*}\] <p>After substituting the equation for $\sigma vv^\top$ back into the update rule for $B_k$, we obtain</p> \[B_{k+1} = B_k + \frac{(y_k - B_ks_k)(y_k - B_ks_k)^\top}{(y_k - B_ks_k)^\top s_k}.\] <p>We can use the <a href="https://en.wikipedia.org/wiki/Sherman–Morrison_formula">Sherman-Morrison formula</a></p> \[(A + uv^\top)^{-1} = A^{-1} - \frac{A^{-1}uv^\top A^{-1}}{1 + v^\top A^{-1}u}\] <p>to calculate the update for the inverse Hessian approximation $H_k$.</p> \[H_{k+1} = H_k + \frac{(s_k - H_k y_k)(s_k - H_k y_k)^\top}{(s_k - H_k y_k)^\top y_k}\] <h3 id="pros">Pros</h3> <ul> <li>Storing and updating $H_k$ is $O(n^2)$.</li> <li>The outer product $vv^\top$ is positive semi-definite but not necessarily positive definite, making SR1 a good quadratic approximation for non-convex optimization problems.</li> </ul> <h3 id="cons">Cons</h3> <ul> <li>The denominator can be 0 if $s_k = H_k y_k$ or $(s_k - H_k y_k)^\top y_k = 0$. The only solution is to skip the SR1 update: $H_{k+1} = H_k$​.</li> </ul> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1"> <p>Yes, it is confusing to have $H_k$ approximate the inverse of the Hessian, but this is the standard notation. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div>]]></content><author><name></name></author><category term="mathematics"/><summary type="html"><![CDATA[An introduction to quasi-Newton methods.]]></summary></entry><entry><title type="html">2022 in Books</title><link href="https://georgerpu.github.io/blog/2022/books/" rel="alternate" type="text/html" title="2022 in Books"/><published>2022-12-31T00:00:00+00:00</published><updated>2022-12-31T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2022/books</id><content type="html" xml:base="https://georgerpu.github.io/blog/2022/books/"><![CDATA[<h2 id="business">Business</h2> <h3 id="extreme-ownership---jocko-willink-and-leif-babin">Extreme Ownership - Jocko Willink and Leif Babin</h3> <p>Initially this book was not on my reading list, but my manager encouraged me to read it so I moved it to the top of the queue<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>. The book covers the experiences of 2 Navy SEALs, the authors of the book, in the Iraq War and in their later life as leadership consultants. Each chapter begins with a combat story that transitions into a single principle. Then the authors apply that principle in an anecdote from their consulting work. The format and laconic style are effective at transmitting their message, even if sometimes the stories may not match the principle. For example, the last chapter “Discipline Equals Freedom” begins with a story about how a new search procedure replaced their old ransack method but ends with a story about a CEO who needed to fire his friend.</p> <p>Much of the book can be reduced to “find a way”. Take ownership of your failures; use your agency to affect your surroundings. This is great advice for individuals but not for organizations or countries. Despite the successes Jocko Willink and Leif Babin and the rest of Task Force Bruiser fought and bled for during the Battle of Ramadi, the Iraq War was a failure. The decision to overthrow a dictatorial regime and establish a new democracy created a insurgency, the rise of ISIS, and a stronger Iran. Perhaps if the Bush administration practices better leadership, all this could have been avoided. For the soldiers on the ground like Jocko Willink and Leif Babin, extreme ownership could win the Battle of Ramadi but not the Iraq War.</p> <h2 id="history">History</h2> <h3 id="crashed---adam-tooze">Crashed - Adam Tooze</h3> <p><em>Crashed</em> is a thick book that covers the Great Recession and its aftermath. In particular, the book connects the 2008 recession and Eurozone crisis, blaming it on Europe’s lackluster response to the 2008 recession. The radical intervention by the United States and China to save their economies were not made by Europe in 2008, whose banking sector and overall economy were weaker in the early 2010s. At the same time, any stimulus taken was beyond the capacity of smaller European states. Financial crisis became fiscal crisis for European countries. This connection was seldom made in the news coverage of Eurozone crisis, which blamed Southern European excess for their predicament.</p> <p>The Great Recession is the probably most significant historical event of my lifetime. For one, it was the worst economic recession in 80 years. Millions of Americans were impoverished. It’s cause by careless technocratic elites and unequal resolution by the same technocracy generated a swell of populist anger. This anger was channeled into populist political campaigns on both sides of the Atlantic. Across the Atlantic, the moderate Left and Right have lost ground to their ideological flanks. These populists have all had authoritarian tendencies; democracy was damaged.</p> <p>The 2010s in some ways were like a new 1930s, but unlike <em>Wages of Destruction</em> (which I read first), Tooze is writing history as it is happening. The book is published in 2018, covering events up to 2017. From the post-COVID perspective—another once in a lifetime crisis—we can judge Tooze’s commentary on 2008.</p> <ul> <li>Tooze is right in noting that the 2009 stimulus in the United States was not enough. Unemployment in the United States peaked at 10%, taking 7 years to reach pre-crisis levels. Learning from this, Congress passed trillions of stimulus which went directly to households in 2020.</li> <li>Tooze is right in calling Dodd-Frank a mess. The implicit too-big-to-fail guarantee incestuously ties the government and Wall Street together. Systematically important financial institutions have turned into arms of the state, albeit operated for private profit.</li> <li>Tooze justly notes that inflicting austerity on the Greece only caused suffering. Even today Greece has a 15% unemployment rate and a debt to GDP ratio of 176%.</li> <li>Tooze correctly ties the collapse in centrist politics across the Atlantic back to the 2008 recession. The inequality of the crisis-fighting measures reactivated the Left. The power wielded by unelected elites reactivated the far Right<sup id="fnref:2"><a href="#fn:2" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>.</li> <li>Tooze misses the new Cold War emerging between China and the United States. Obama began an anti-China stance with the TPP and freedom of navigation in the South China Sea. Trump dug into the toolbox of tariffs to escalate the war. Biden has continued and substantiated Trump’s anti-China industrial policies.</li> </ul> <h3 id="wages-of-destruction---adam-tooze">Wages of Destruction - Adam Tooze</h3> <p><em>Wages of Destruction</em> is an incredibly dense and long book about the German economy from 1919-1945. The book attempts to provide a strategic, ideological, and economic synthesis as an answer to many big questions about Nazi Germany.</p> <ul> <li>What were Hitler’s geopolitical ambitions?</li> <li>Did Hitler help Germany exit the Great Depression?</li> <li>Why did Hitler go to war in 1939 with Western Europe?</li> <li>Why was Germany so successful in 1940-1941?</li> <li>How was Germany able to surivive another 3.5 years after the failure of December 1941?</li> <li>Why dedicate valuable resources to genocide?</li> <li>How effective was Anglo-American bombing of German industry and cities?</li> </ul> <p>The answers for these questions deviates from the previous historical orthodoxy. Hitler’s desire to create a Germany capable of competing with the United States (and the UK to a lesser extent), improvisation in the face of material and labor constraints, and racial hierarchy drive much of <em>Wages of Destruction</em>. This desire to compete with the North Atlantic leads Hitler to the conclusion that he must conquer and genocide Eastern Europe to gain the land and labor. Along with careful management of the national economy, the Nazi state applies these tools before and during World War II to start and perpetuate the worst conflict in human history.</p> <p>I am uncertain as to whether Tooze is right. Tooze’s rationalization of much of Germany’s genocidal drive and action as a reaction to the American century was certainly shocking to me. What is more certain is that the book is a hard read even for those familiar with the general course of the Second World War. There are many names of people, companies, and government agencies which, unless you too are an economic historian of 20th century Europe, will be new. Having never taken a macroeconomics course in high school or college, I had to look up terms like <strong>rationalization</strong> or <strong>balance of payments</strong>. The trouble was definitely worth it to see such a pivotal clash from a new perspective.</p> <h2 id="programming">Programming</h2> <h3 id="clean-code---robert-martin">Clean Code - Robert Martin</h3> <p><em>Clean Code</em> is the pre-eminant book on programming, ranked first in many lists of the books every programmer should read. It is the <a href="https://www.amazon.com/gp/bestsellers/books/491316/ref=zg_b_bs_491316_1">number one best seller on Amazon in the Software Design &amp; Engineering</a> category yet has also received anti-recommendations in recent years by <a href="https://qntm.org/clean">bloggers</a> and other <a href="https://web.stanford.edu/~ouster/cgi-bin/aposd2ndEdExtract.pdf">authors</a>. Given my current job as a software developer, I decided to read <em>Clean Code</em> to make my own opinion. I review each chapter individually.</p> <p>Certain chapters are written with/by other authors.</p> <h4 id="1-clean-code">1. Clean Code</h4> <p>The first chapter begins by emphasizing the importance of clean code for the small number of readers who dismiss its value. The remainder of the chapter tries to define what “clean code” means: readability, simplicity, and loftier ideals like elegance.</p> <h4 id="2-meaningful-names---tim-ottinger">2. Meaningful Names - Tim Ottinger</h4> <p>The second chapter can be summarized “don’t make your names too long” and “don’t make your names too short”. Typing is easy; don’t be lazy and drop important context. Knowing what can be left out from variable names is harder. Err on the side of longer names as unnecessary information can always be ignored by the reader.</p> <h4 id="3-functions">3. Functions</h4> <p>The most opinionated rule in the whole book is</p> <blockquote> <p>The first rule of functions should be small. The second rule is that <em>they should be smaller than that</em> [emphasis in original].</p> </blockquote> <p>This makes no sense to me. Isn’t extracting every few lines of code to a function is equivalent to commenting every few lines? Martin calls comments a necessary evil. Why should writing a psuedo-comment in a function name be considered a success? In my short career, I have read long classes filled with similarly named but slightly different methods like <code class="language-plaintext highlighter-rouge">render</code> in Listing 3-7. It is not a fun experience.</p> <p>I agree that functions need a maximum size. Functions should not be longer than a screen. But, functions, at least those rarely called, need a minimum size limit too. Functions should do only one thing, but that thing needs to be significant. Functions incur a cost. They disrupt the linear flow of the code, increase the interface surface area, and introduce coupling between modules. Their benefit needs to be greater than the code.</p> <p>Otherwise, the advice in the chapter is good. The number of function arguments should be minimized. A large number of arguments makes writing unit tests annoying. Avoiding code duplication is important, but don’t over do it. <a href="https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction">Deduplication is not worth the wrong abstraction</a>. The preference for exceptions instead of error codes is ironic as some modern languages like <a href="https://doc.rust-lang.org/book/ch09-00-error-handling.html">Rust</a> and <a href="https://go.dev/blog/error-handling-and-go">Go</a> do not have exceptions.</p> <h4 id="4-comments">4. Comments</h4> <p>Martin hates comments.</p> <blockquote> <p>Comments are always failures</p> </blockquote> <p>(which negatively influences his philosophy around functions and classes). I mostly agree, mainly since old comments tend to linger in the code base, even if more for sociological reasons than practical ones. Good comments are valuable though. I hope Martin’s statements doesn’t deter readers from attempting to write good comments.</p> <p>Martin’s classification of good and bad comments looks good to me. His advice against HTML comments is out of date as IDES/editors render stylistic markings now when hovering over the documented entity.</p> <h4 id="5-formatting">5. Formatting</h4> <p>This is the first chapter I whole heartedly agree with. It formalizes all the rules I intuited over the years from writing large programs. The penultimate section of the book hits a gold nugget. Configure IDE/editor tools to enforce formatting standards for you, and you will never have to think about formatting again.</p> <h4 id="6-objects-and-data-structures">6. Objects and Data Structures</h4> <p>Martin draws a distinction between objects which only expose their methods and data structures, better called structs, which expose their fields.</p> <ol> <li>Adding a new <code class="language-plaintext highlighter-rouge">area</code> function for <code class="language-plaintext highlighter-rouge">Circle</code>, <code class="language-plaintext highlighter-rouge">Rectangle</code>, and <code class="language-plaintext highlighter-rouge">Square</code> structs requires creating only 1 function, albeit with 3 different area formulas. Adding a new <code class="language-plaintext highlighter-rouge">area</code> method to <code class="language-plaintext highlighter-rouge">Circle</code>, <code class="language-plaintext highlighter-rouge">Rectangle</code>, and <code class="language-plaintext highlighter-rouge">Square</code> objects means modifying 3 classes.</li> <li>Adding a new <code class="language-plaintext highlighter-rouge">Triangle</code> struct forces us to modify all our geometric functions: <code class="language-plaintext highlighter-rouge">area</code>, <code class="language-plaintext highlighter-rouge">perimeter</code>, etc. Adding a new <code class="language-plaintext highlighter-rouge">Triangle</code> object doesn’t require changes to another other objects.</li> </ol> <p>Essentially, Martin argues that object oriented and procedural code are complimentary. It’s an interesting idea, although it feels like the only difference is how the functions are grouped. Underneath, we still need $n_{functions} \cdot n_{shapes}$ formulas.</p> <h4 id="7-error-handling---michael-feathers">7. Error Handling - Michael Feathers</h4> <p>Overall, this chapter covers the basics of clean error handling in Java. The “Don’t Pass Null” section hits on a core idea from <a href="https://georgerpu.github.io/blog/2019/books/"><em>A Philosophy of Software Design</em></a>—defining errors away. Adjusting code so that it never returns an error is the cleanest error handling.</p> <p>As for passing <code class="language-plaintext highlighter-rouge">null</code>s, the solution is better language design. Languages post 2008 often disallow ordinary objects from being <code class="language-plaintext highlighter-rouge">null</code>. Only nullable types can be <code class="language-plaintext highlighter-rouge">null</code>. The compiler can check whether nullable types are being assigned to non-nullable types and throw a compile time exception when there is a risk of a <code class="language-plaintext highlighter-rouge">NullPointerException</code>.</p> <h4 id="8-boundaries---james-grenning">8. Boundaries - James Grenning</h4> <p>This chapter advocates wrapping external dependencies in a module <code class="language-plaintext highlighter-rouge">m</code>. Application code only uses <code class="language-plaintext highlighter-rouge">m</code>, pushing all boundary code interacting with third party packages into <code class="language-plaintext highlighter-rouge">m</code>. Especially if the application code uses the external package in a few specific ways, I highly recommend doing this. Using adapters and wrappers this way is something I started unconsciously, so it’s nice to surface this principle to the level of conscious thought.</p> <h4 id="9-unit-tests">9. Unit Tests</h4> <p>Martin advocates for test driven development (TDD) where tests are written first. Only after a test is written, the developer is allowed to write production code to make the test pass<sup id="fnref:3"><a href="#fn:3" class="footnote" rel="footnote" role="doc-noteref">3</a></sup>. Given that TDD is not widely practiced and that its efficacy at building better software is contested by <a href="https://neverworkintheory.org/2012/01/25/realizing-quality-improvement-through-test-driven-development.html">empirical</a> <a href="https://neverworkintheory.org/2016/10/05/test-driven-development.html">academic</a> <a href="https://neverworkintheory.org/2021/09/16/analyzing-the-effects-of-tdd-in-github.html">research</a>, TDD material probably should have been cut to keep the chapter relevant to as broad of an audience as possible.</p> <p>The chapter also gives the strange advice to invent a domain specific language just for testing. Personally, I prefer Listing 9-3—which the author calls bad—to Listing 9-4. The name <code class="language-plaintext highlighter-rouge">wayTooCold</code> is not a verb phrase; I find it hard to interpret the 5 character string representation of <code class="language-plaintext highlighter-rouge">hw</code>’s state.</p> <p>Otherwise, the advice in the chapter is good. Test suites are important to working software. Unit tests should follow the setup, operate, check structure. Tests can have multiple asserts but only a single concept. All tests should follow the FIRST principles. I wish the book had covered mocking which is essential to unit testing classes in Java.</p> <h4 id="10-classes---jeff-langr">10. Classes - Jeff Langr</h4> <p>This chapter offers good advice for breaking up large classes. I agree more with the small classes advice than the small functions advice. Classes become large by having more methods which increases interface costs without providing much more functionality. In fact, having fewer but deeper methods helps keep classes smaller by reducing the number of methods. Each class should have a single responsibility it does well.</p> <h4 id="11-systems---kevin-wampler">11. Systems - Kevin Wampler</h4> <p>This chapter emphasizes the role of dependency injection (DI) and aspect oriented programming (AOP) for clean systems.</p> <ol> <li>DI is important whenever writing large applications. It allows classes to use dependency objects in fields without worrying about their origins. For Java, I recommend <a href="https://dagger.dev">Dagger</a> over <a href="https://www.baeldung.com/spring-dependency-injection">Spring</a> or <a href="https://github.com/google/guice">Guice</a><sup id="fnref:4"><a href="#fn:4" class="footnote" rel="footnote" role="doc-noteref">4</a></sup>.</li> <li>Often the same code needs to be run in many places. An example is timing every method $f$ and publishing the results to a dashboard. AOP lets us wrap $f$ with our timing code rather than put it into $f$. Every call to $f$ first goes to a timing proxy that starts the timer, internally calls $f$, then publishes $f$’s execution time. The explanation of AOP is really good. This is the first time I felt like I grasped the concept.</li> </ol> <p>DI and AOP are useful tools to construct clean systems but are not panaceas to the problem of clean coding.</p> <h4 id="12-emergence---jeff-langr">12. Emergence - Jeff Langr</h4> <p>This is a weird chapter. It mentions 4 rules of simple design, then tries to show how applying those rules creates a design out of thin air. It advocates no duplication when <a href="https://overreacted.io/goodbye-clean-code/">a little duplication is ok</a>. The section “Minimal Classes and Methods” even acknowledges this.</p> <h4 id="13-concurrency---brett-schuchert">13. Concurrency - Brett Schuchert</h4> <p>This chapter provides recommendations clean concurrent programming. I don’t have much experience writing multithreaded code, but I really like this chapter. Java is way past version 5 now, so some of the advice may be out of date.</p> <h4 id="14-successive-refinement">14. Successive Refinement</h4> <p>In this chapter, Martin works through an example refactoring of a rough draft of an <code class="language-plaintext highlighter-rouge">Args</code> class to a clean version. The <code class="language-plaintext highlighter-rouge">Args</code> class parses command line arguments according to a one line <code class="language-plaintext highlighter-rouge">String</code> schema. The final implementation is mostly ok, but has a few problems.</p> <ul> <li>Deciding which marshaler to add based on the schema type symbols should be split into its own method outside of the <code class="language-plaintext highlighter-rouge">Args</code> class.</li> <li>Why make <code class="language-plaintext highlighter-rouge">getValue</code> a static method in <code class="language-plaintext highlighter-rouge">ArgumentMarshaler</code>? If the data is stored in a field, why not make <code class="language-plaintext highlighter-rouge">getValue</code> a regular method.</li> <li><code class="language-plaintext highlighter-rouge">ArgumentMarshaler</code>’s <code class="language-plaintext highlighter-rouge">set</code> method should take a <code class="language-plaintext highlighter-rouge">String</code> instead of an <code class="language-plaintext highlighter-rouge">Iterator&lt;String&gt;</code>. <code class="language-plaintext highlighter-rouge">ArgumentMarshaler</code> doesn’t need to know that the arguments are being iterated over, just the current argument. This issue can be partially fixed by using a for-each loop</li> <li><code class="language-plaintext highlighter-rouge">currentArgument</code> shouldn’t be a field.</li> </ul> <p>I find code in paper books hard to read. The refactoring of <code class="language-plaintext highlighter-rouge">Args</code> would be better as a companion video than a chapter.</p> <h4 id="15-junit-internals">15. JUnit Internals</h4> <p>Martin refactors the class <code class="language-plaintext highlighter-rouge">ComparisonCompactor</code> from the JUnit library which creates an error message showing the difference between 2 <code class="language-plaintext highlighter-rouge">String</code>s. I like the final version more than the final implementation of <code class="language-plaintext highlighter-rouge">Args</code>. My only complaint is that Martin has a disturbing tendency to use fields like global state. One method will set a field for another method to read it. In this example it is not so bad. Each field isx written in only 1 method while being read by many others. But this tendency flares up in other listings throughout the book.</p> <h4 id="16-refactoring-serialdate">16. Refactoring <code class="language-plaintext highlighter-rouge">SerialDate</code></h4> <p>Another chapter refactoring code. <code class="language-plaintext highlighter-rouge">SerialDate</code> is a class deep inside the no longer developed <a href="https://www.jfree.org/jcommon/">JCommon</a> library. Martin heavily criticizes this <code class="language-plaintext highlighter-rouge">SerialDate</code> class<sup id="fnref:5"><a href="#fn:5" class="footnote" rel="footnote" role="doc-noteref">5</a></sup>. This is the most realistic refactoring as Martin tries to fix a poor module than improve an already good one. It is rare to refactor good modules to become great. The chapter doesn’t print the original or final version of <code class="language-plaintext highlighter-rouge">SerialDate</code> so Martin’s steps are difficult to follow.</p> <h4 id="17-smells-and-heuristics">17. Smells and Heuristics</h4> <p>This is the best chapter in the book. It summarizes the content of all the previous chapters in $5 + 4 + 36 + 3 + 7 + 9 = 64$ principles. Some principles like <em>G4: Overridden Safeties</em> are mentioned in the rest of the book. After reading the entire book (minus the Appendix), I would recommend newbie programmers just read Chapter 17. Overall, the book isn’t as bad as the naysayers claim, but there is questionable information. After reading Chapter 17, I would then recommend newbies read <em>A Philosophy of Software Design</em>.</p> <hr/> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1"> <p>What this might imply is left as an exercise to the reader. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:2"> <p>I find the connection between the ruin of the 2008 recession and the rise of Trump less believable given that Trump voters were better off than the average voter. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:3"> <p>The developer can refactor code while keeping the tests passing. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:4"> <p>Both Guice and Dagger v2 are developed by Google. Dagger v1 was developed by Square, the company that sells those point of sale tablets. According to a <a href="https://www.reddit.com/r/java/comments/1y9e6t/comment/cfjc242/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button">Reddit AMA</a>, Google plans to replace Guice with Dagger but, as of 2022, both are actively developed. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:5"> <p>His first move is to rename it to <code class="language-plaintext highlighter-rouge">DayDate.</code> <a href="#fnref:5" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div>]]></content><author><name></name></author><category term="reading"/><summary type="html"><![CDATA[All the books I read in 2022]]></summary></entry><entry><title type="html">Advice to New Graduates in Software Engineering</title><link href="https://georgerpu.github.io/blog/2022/advice-to-new-grads/" rel="alternate" type="text/html" title="Advice to New Graduates in Software Engineering"/><published>2022-07-24T00:00:00+00:00</published><updated>2022-07-24T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2022/advice-to-new-grads</id><content type="html" xml:base="https://georgerpu.github.io/blog/2022/advice-to-new-grads/"><![CDATA[<p>Update 2023-03-25: Added more points and new section on documents.</p> <h2 id="onboarding">Onboarding</h2> <ol> <li>Introduce yourself to your teammates in 30 minute 1:1 meetings. Go through your team’s software systems with another engineer.</li> <li>Create (or update) your team’s onboarding guide as you are onboarding. In 6 months, you will struggle to remember how it was to be new.</li> </ol> <h2 id="this-isnt-kansas-school-anymore">This Isn’t <del>Kansas</del> School Anymore</h2> <ol> <li>Ask for help after 30 minutes to 1 hour of fruitless searching. You don’t get extra points for completing tasks solo.</li> <li>You will have to nag people to get responses.</li> <li>Use messaging for quick conversations but switch to a voice call if there is substantial back and forth.</li> </ol> <h2 id="ramping-up">Ramping Up</h2> <ol> <li>Find a mentor. A mentor is anyone you speak with regularly and offers advice.</li> <li>Learn your team’s code base by reading through it<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>. Given a feature request, you should instinctively know what code changes need to be made.</li> <li>Navigate other team’s code bases (if you have permission) for examples.</li> </ol> <h2 id="getting-more-done">Getting More Done</h2> <ol> <li>Success requires failure. Your skill will only grow if you are constantly using and stretching them.</li> <li>Improving developer experience is always worth the effort. Having good test suites, documentation, and even IDE plugins will save future time spend developing future code and fixing operational issues.</li> <li>Aim to complete familiar tasks in less time. Completing simple tasks fast opens time for complex tasks.</li> <li>Learn your IDE. Advanced IDEs like IntelliJ contain tools that can save you hours of work<sup id="fnref:2"><a href="#fn:2" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>.</li> </ol> <h2 id="documents">Documents</h2> <ol> <li>The key to writing good documents is getting them reviewed by others before they are presented.</li> <li>Documents should be written for a broad audience. Future readers (maybe even you) might not know the history surrounding the document.</li> <li>Take advantage of READMEs. They are easier to find than other documentation.</li> </ol> <h2 id="promotion">Promotion</h2> <ol> <li>Each company has its own promotion process. Understand it.</li> <li>Document your work in a <a href="https://jvns.ca/blog/brag-documents/">brag document</a> as you complete it. It will be too hard to remember the details of a project months later. Any new learnings should be documented and shared with the team.</li> <li>Your job is not to complete assigned tasks but to improve the overall performance of your team. If you see opportunity to improve some system or process your team owns, pursue it.</li> </ol> <hr/> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1"> <p>This is much easier to do when you first join a team/company. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> <li id="fn:2"> <p>Some good ones are Optimize Imports and the Refactoring tools. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div>]]></content><author><name></name></author><category term="software-engineering"/><summary type="html"><![CDATA[Lessons from 1 year as a software engineer]]></summary></entry><entry><title type="html">Solution to Olympiad level counting</title><link href="https://georgerpu.github.io/blog/2022/solutions-to-olympiad/" rel="alternate" type="text/html" title="Solution to Olympiad level counting"/><published>2022-05-30T00:00:00+00:00</published><updated>2022-05-30T00:00:00+00:00</updated><id>https://georgerpu.github.io/blog/2022/solutions-to-olympiad</id><content type="html" xml:base="https://georgerpu.github.io/blog/2022/solutions-to-olympiad/"><![CDATA[<p>In 3Blue1Brown’s latest video <a href="https://www.youtube.com/watch?v=bOXCLR3Wric&amp;t=22s">Olympiad level counting: How many subsets of {1,…,2000} have a sum divisible by 5?</a>, you can find a few easy exercises at the <a href="https://youtu.be/bOXCLR3Wric?t=2054">end</a>. These are the solutions.</p> <h2 id="problem-1">Problem 1</h2> \[\begin{align*} \frac{d}{dx} \left[ \frac{1}{1 - x} \right] &amp;= \frac{d}{dx} \left[ \sum_{n=0}^{\infty} x^n \right] \\ \frac{1}{(1 - x)^2} &amp;= \sum_{n=0}^{\infty} nx^{n-1} \end{align*}\] <p>Note that the first term of the sum is 0 so,</p> \[\sum_{n=0}^{\infty} nx^{n-1} = \sum_{n=1}^{\infty} nx^{n-1}.\] <p>There are infinitely many scenarios you can roll a die before being the number 1.</p> <table> <thead> <tr> <th>Number of rolls</th> <th>Scenario</th> <th>Probability</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Roll 1</td> <td>$1/6$</td> </tr> <tr> <td>2</td> <td>Roll 2-6, roll 1</td> <td>$5/6 \cdot 1/6$</td> </tr> <tr> <td>…</td> <td> </td> <td> </td> </tr> <tr> <td>$n$</td> <td>Roll 2-6 $n - 1$ times, roll 1</td> <td>$(5/6)^{n-1} (1/6)$</td> </tr> <tr> <td>…</td> <td> </td> <td> </td> </tr> </tbody> </table> <p>Then the expected value of the number of rolls before seeing 1 is</p> \[\sum_{n=1}^{\infty} n p_n = \sum_{n=1}^{\infty} n (5/6)^{n-1} (1/6) = (1/6) \sum_{n=1}^{\infty} n(5/6)^{n-1}.\] <p>Let $x = 5/6$.</p> \[\sum_{n=1}^{\infty} nx^{n-1} = \frac{1}{(1 - x)^2} = \frac{1}{(1 - 5/6)^2} = \frac{1}{1/36} = 36\] <p>Thus the expected number of rolls before seeing 1 is $(1/6)36 = 6$.</p> <h2 id="problem-2">Problem 2</h2> <p>Using the Binomial Theorem,</p> \[(1 + x)^n = \sum_{k=0}^{n} {n \choose k} x^k.\] <p>Letting $x = 2$,</p> \[\sum_{k=0}^{n} {n \choose k} 2^k = (1 + 2)^n = 3^n.\] <h2 id="problem-3">Problem 3</h2> \[\begin{align*} F(x) &amp;= \sum_{n=0}^{\infty} f_n \frac{x^n}{n!} \\ F'(x) &amp;= \sum_{n=1}^{\infty} f_n \frac{x^{n-1}}{(n - 1)!} \\ F''(x) &amp;= \sum_{n=2}^{\infty} f_n \frac{x^{n-2}}{(n - 2)!} \end{align*}\] <p>We can reindex the bottom 2 sums by placing $n$ by $n + 1$ and $n + 2$ respectively. \(\begin{align*} F'(x) &amp;= \sum_{n=0}^{\infty} f_{n+1} \frac{x^n}{n!} \\ F''(x) &amp;= \sum_{n=0}^{\infty} f_{n+2} \frac{x^n}{n!} \end{align*}\) Thus, \(F''(x) = \sum_{n=0}^{\infty} f_{n+2} \frac{x^n}{n!} = \sum_{n=0}^{\infty} (f_{n+1} + f_n) \frac{x^n}{n!} = F'(x) + F(x).\)</p> <h3 id="bonus">Bonus</h3> \[\begin{align*} F''(x) &amp;= F'(x) + F(x) \\ F''(x) - F'(x) - F(x) &amp;= 0 \end{align*}\] <p>The characteristic of the homogeneous second order differential equation is $x^2 - x - 1 = 0$ which has roots</p> \[x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a} = \frac{1 \pm \sqrt{1 + 4}}{2} = \frac{1 \pm \sqrt{5}}{2}\] <p>Because there are 2 distinct real roots, the general solution is</p> \[F(x) = c_1e^{\frac{1 + \sqrt{5}}{2}x} + c_2 e^{\frac{1 - \sqrt{5}}{2}x}.\] <p>Since $F(0) = 0$ and $F’(0) = 1$,</p> \[\begin{align*} 0 &amp;= c_1 + c_2 \\ 0 &amp;= \frac{1 + \sqrt{5}}{2} c_1 + \frac{1 - \sqrt{5}}{2} c_2. \end{align*}\] <p>Thus,</p> \[\begin{align*} 1 &amp;= \left( \frac{1 + \sqrt{5}}{2} - \frac{1 - \sqrt{5}}{2} \right) c_1 \\ &amp;= \frac{1 + \sqrt{5} - 1 + \sqrt{5}}{2} c_1 \\ &amp;= \frac{2\sqrt{5}}{2} c_1 \\ c_1 &amp;= \frac{1}{\sqrt{5}} \\ c_2 &amp;= -\frac{1}{\sqrt{5}} \end{align*}\] <p>Recall that $e^x = \sum_{n=0}^{\infty} \frac{x^n}{n!}$.</p> \[\begin{align*} F(x) &amp;= \frac{1}{\sqrt{5}} \sum_{n=0}^{\infty} \frac{(\frac{1 + \sqrt{5}}{2})^n x^n}{n!} - \frac{1}{\sqrt{5}} \sum_{n=0}^{\infty} \frac{(\frac{1 - \sqrt{5}}{2})^n x^n}{n!} \\ &amp;= \sum_{n=0}^{\infty} \frac{(\frac{1 + \sqrt{5}}{2})^n x^n - (\frac{1 - \sqrt{5}}{2})^n x^n}{\sqrt{5} n!} \\ &amp;= \sum_{n=0}^{\infty} \frac{(\frac{1 + \sqrt{5}}{2})^n - (\frac{1 - \sqrt{5}}{2})^n}{\sqrt{5}} \frac{x^n}{n!} = \sum_{n=0}^{\infty} f_n \frac{x^n}{n!} \end{align*}\] <p>Hence,</p> \[f_n = \frac{1}{\sqrt{5}} \left[ \left( \frac{1 + \sqrt{5}}{2} \right)^n - \left( \frac{1 - \sqrt{5}}{2} \right)^n \right].\] <h2 id="problem-4">Problem 4</h2> <p>Recall from Problem 1 that</p> \[\frac{1}{1 - x} = \sum_{n=0}^{\infty} x^n.\] <p>Thus,</p> \[\begin{align*} \frac{f(x)}{1 - x} &amp;= \left( \sum_{n=0}^{\infty} a_n x^n \right) \left( \sum_{n=0}^{\infty} x^n \right) \\ &amp;= \left( a_0 + a_1x + a_2x^2 + \cdots \right) \left( 1 + x + x^2 + \cdots \right) \\ &amp;= a_0 + a_0x + a_0x^2 + \cdots \\ &amp;\qquad \,\,\, + \, a_1x + a_1x^2 + \cdots \\ &amp;\qquad\qquad\quad\, + \, a_2x^2 + \cdots \\ &amp;= \sum_{n=0}^{\infty} S_n x^n \end{align*}\] <p>where $S_n = \sum_{k=0}^{n} a_k$ is the partial sum of the coefficients up to $a_n$.</p>]]></content><author><name></name></author><category term="mathematics"/><summary type="html"><![CDATA[How many subsets of {1,…,2000} have a sum divisible by 5?]]></summary></entry></feed>